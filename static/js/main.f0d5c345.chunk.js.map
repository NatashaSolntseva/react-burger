{"version":3,"sources":["components/burger-ingredients/components/ingredient-group/ingredientGroupStyles.module.css","components/burger-constructor/components/ingredients-mold/ingredientMoldStyles.module.css","components/modal/modal-overlay/modalOverlay.module.css","components/app-form-submit/appFormSubmitStyles.module.css","components/form-input-wrapper/formInputWrapperStyles.module.css","components/orders-lists/ordersLists.module.css","components/app-header/appHeaderStyles.module.css","components/burger-constructor/burgerConstructorDndStyles.module.css","components/orders-lists/components/orderCard.module.css","reportWebVitals.ts","services/actions/modalActions.ts","services/reducers/modalReducer.ts","utils/cookies.ts","utils/api.ts","services/middleware/socket-middleware.ts","services/actions/ingredientsActions.ts","services/reducers/ingredientsReducer.ts","services/actions/orderActions.ts","services/reducers/orderReducer.ts","services/actions/constructorActions.ts","services/reducers/constructorReducer.ts","services/actions/userActions.ts","services/reducers/userReducer.ts","services/actions/feedActions.ts","services/reducers/feedReducer.ts","services/reducers/root-reducer.ts","services/store.ts","utils/const.ts","services/hooks/hooks.ts","components/app-header/appHeader.tsx","components/protected-route/protected-route.tsx","components/burger-ingredients/components/ingredient-element/ingredientElement.tsx","components/burger-ingredients/components/ingredients-dnd-wrapper/ingredient-dnd-wrapper.tsx","components/burger-ingredients/components/ingredient-group/ingredientGroup.tsx","components/burger-ingredients/burgerIngredients.tsx","components/burger-constructor/components/ingredients-mold/ingredientsMold.tsx","components/burger-constructor/components/bun-mold/bunMold.tsx","components/burger-constructor/components/burger-constructor-element/burgerConstructorElement.tsx","components/burger-constructor/components/burger-constructor-element-dnd-wrapper/burgerConstructorElementDndWrapper.tsx","components/burger-constructor/burgerConstructorDnd.tsx","components/burger-constructor/components/burger-constructor-dnd-wrapper/burger-constructor-dnd-wrapper.tsx","components/modal/modal-overlay/modalOverlay.tsx","components/modal/modal.tsx","image/doneImg.svg","components/loader/loader.tsx","components/order-details/orderDetails.jsx","components/error-message/error-message.tsx","pages/home/home.tsx","components/app-form/appForm.tsx","components/app-form-submit/appFormSubmit.tsx","components/form-input-wrapper/formInputWrapper.tsx","components/form-caption/formCaption.tsx","pages/login/login.tsx","pages/register/register.tsx","pages/fogot-password/forgot-password.tsx","pages/reset-password/reset-password.tsx","components/profile-nav/pforile-nav.tsx","utils/date.ts","components/ingredient-icon/ingredientIcon.tsx","components/orders-lists/components/order-card.tsx","components/orders-lists/orders-lists.tsx","pages/profile/profile.tsx","pages/not-found-404/not-found-404.tsx","components/feed-statistic/statistic-total/statistic-total.tsx","components/feed-statistic/statistic-life/statistic-life.tsx","components/feed-statistic/feed-statistic.tsx","pages/feed/feed.tsx","components/burger-ingredients/components/ingredient-detail/ingredientDetails.tsx","components/order-info/components/ingredient-info.tsx","components/order-info/order-info.tsx","components/app/app.tsx","index.tsx","components/profile-nav/profileNav.module.css","components/burger-ingredients/components/ingredient-detail/ingredientDetails.module.css","components/order-info/orderInfo.module.css","components/burger-ingredients/components/ingredient-element/ingredientElementStyles.module.css","components/burger-constructor/components/bun-mold/bunMoldStyles.module.css","pages/profile/profile.module.css","pages/feed/feedStyles.module.css","components/burger-ingredients/burgerIngredientsStyles.module.css","components/order-details/orderDetails.module.css","components/loader/loader.module.css","components/error-message/errorMessage.module.css","components/ingredient-icon/ingredientIcon.module.css","pages/not-found-404/not-found-404.module.css","components/feed-statistic/statistic-life/statisticLife.module.css","components/order-info/components/ingredientInfo.module.css","pages/home/homeStyle.module.css","components/burger-constructor/components/burger-constructor-element/burgerConstructorElementStyles.module.css","components/modal/modal.module.css","components/app-form/appFormStyles.module.css","components/form-caption/formCaptionStyles.module.css","components/feed-statistic/feedStatistic.module.css","components/feed-statistic/statistic-total/statisticTotal.module.css"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","SET_MODAL_ERROR","OPEN_MODAL_INGREDIENT","OPEN_MODAL_ORDER","CLOSE_MODAL","modalInitialState","modalIngredientData","isOrderDetailModalVisible","isIngredientDetailModalVisible","hasModalError","getCookie","name","matches","document","cookie","match","RegExp","replace","decodeURIComponent","setCookie","value","props","exp","path","expires","d","Date","setTime","getTime","toUTCString","propName","cookieValue","encodeURIComponent","updatedCookie","propValue","deleteCookie","wsUrl","wsActions","BASE_URL","url","_url","_headers","this","res","ok","json","Promise","reject","status","statusText","fetch","method","headers","_getResponseData","orderIngredientList","Authorization","body","JSON","stringify","ingredients","email","password","accessToken","refreshToken","token","number","GET_INGREDIENTS_API_REQUEST","GET_INGREDIENTS_API_FAILD","GET_INGREDIENTS_API_SUCCESS","getIngredientsRequestApi","dispatch","type","Api","getIngredients","data","catch","error","console","log","getOrderIngredientsDataByIds","idsArr","state","ingredientsArr","filter","id","map","ingredientsDataFromServer","find","item","_id","element","index","indexOf","ingredient","quantity","reduce","qty","totalPrice","sum","price","defaultIngredientsState","ingredientsApiRequest","ingredientsApiFailed","SEND_ORDER_NUMBER_REQUEST","SEND_ORDER_NUMBER_FAILED","SEND_ORDER_NUMBER_SUCCESS","defaultOrderState","orderId","isOrderInfoLoading","isOrderInfoRequestFaild","DROP_SELECTED_INGREDIENT","DELETE_INGREDIENT","CLEAR_ORDER_LIST","REORDER_CONSTRUCTOR_INGREDIENT","defaultBurgerConstructorState","droppedIngredients","droppedBun","REGISTER_NEW_USER_SUCCESS","LOGIN_USER_SUCCESS","LOGOUT_USER_REQUEST","REMIND_PASSWORD_SUCCESS","SET_PASSWORD_SUCCESS","GET_USER_DATA_SUCCESS","GET_USER_DATA_ERROR","AUTH_CHECKED","defaultUserState","userName","userEmail","userPassword","userIsAuth","resetPswResult","setPswResult","isAuthChecked","WS_CONNECTION_START","WS_CONNECTION_SUCCESS","WS_CONNECTION_ERROR","WS_CONNECTION_CLOSED","WS_GET_MESSAGE","WS_AUTH_CONNECTION_SUCCESS","WS_AUTH_CONNECTION_ERROR","WS_AUTH_CONNECTION_START","GET_EXACT_ORDER_BY_NUMBER_SUCCESS","defaultFeedOrdersState","ordersData","wsRequest","wsConnected","wsError","rootReducer","combineReducers","modal","action","order","orderID","isOrderInfoFaild","burgerConstructor","droppedIngredient","i","indexToDelete","constructorIngredientsArr","draggedEl","splice","draggedElementIndex","targetElementIndex","user","payload","result","feed","wsFeedActions","wsAllOrdersData","wsUserOrdersData","onOpen","onClose","onError","onMessage","enhancer","composeWithDevTools","applyMiddleware","thunk","store","socket","next","WebSocket","onopen","event","onerror","onmessage","parsedData","parse","resetParsedData","onclose","storeState","createStore","useAppDispatch","useDispatch","useAppSelector","useSelector","AppHeader","isConstructor","useRouteMatch","exact","isFeed","isProfile","className","styles","header","container","nav__menu_left","header__list","to","header__link","activeClassName","header__link_active","logo","nav__menu_right","ProtectedRoute","children","rest","render","location","pathname","from","IngredientElement","forwardRef","ref","openModal","isDragging","count","useLocation","background","ingredient_dragging","onClick","modalType","itemId","alt","src","image","element_img","size","IngredientElementDndWrapper","useDrag","collect","monitor","isDrag","dragRef","IngredientGroup","groupName","groupElements","content","burgerItem","BurgerIngredients","buns","useMemo","sauces","mains","bunRef","useRef","sauceRef","mainRef","useState","currentTab","setCurrentTab","handleTabClick","useCallback","tab","current","scrollIntoView","behavior","ingredientCounter","length","burger_ingredients","burger_menu_tab","active","burger_list_container","onScroll","scrollPosition","target","scrollTop","sauceTabPosition","offsetTop","mainTabPosition","IngredientsMold","BunMold","position","mold","mold_position_top","mold_position_bottom","style","BurgerConstructorElement","handleDeleteIngredient","handleDelete","container_wrapper","container__dragIcon","text","thumbnail","handleClose","BurgerConstructorElementDndWrapper","useDrop","accept","drop","isHover","isOver","dropTarget","useEffect","BurgerConstructorDnd","history","useHistory","bunMoldBackColor","setbunMoldBackColor","deleteIngredient","handleSignIn","main_container","ingredients_list","top_container","isLocked","constructor_container","uid","bottom_container","outcome","setTimeout","concat","el","a","postOrderOption","serverResOrderId","Error","getOrderNumberApi","BurgerConstructorDndWrapper","uuidv4","dropSelectedIngredient","ModalOverlay","closeModal","overlay","Modal","modalRoot","getElementById","onEscPress","evt","key","preventDefault","addEventListener","removeEventListener","createPortal","currentTarget","modal_closebtn","Loader","loader__container","loader","loader__span","OrderDetails","glow","icon","doneImg","ErrorMessage","errorMessage__container","errorMessage__title","errorMessage__text","HomePage","openModalIngredient","app","DndProvider","backend","HTML5Backend","AppForm","title","onSubmit","form","AppFormSubmit","wrapper","FormInputWrapper","formwrapper","FormCaption","linkCaption","link","caption","LoginPage","setEmail","setPassword","handleSubmitOnSignInForm","signInUserRequest","split","loginUser","placeholder","errorText","onChange","RegisterPage","setName","handleSubmitOnRegistrationForm","registerNewUserRequest","registerNewUser","ForgotPswPage","historyState","handleResetPswSubmit","remindPassword","success","getRemindUserPassword","ResetPswPage","tokenValue","setTokenValue","handleSaveNewPswSubmit","resetUserPassword","setUserNewPassword","ProfileNav","handleLogoutClick","signOutUserRequest","push","navwrapper","list","listelement","listelement_active","button","info","getDateFormat","utc","date","dayjs","isDateToday","startOf","isSame","isDateYesterday","subtract","format","IngredientIcon","img","hiddenIconsCount","counter","ingerdientIcon__wrapper","ingredientIcon__image","ingredientIcon__hidden","OrderCard","orderData","isOrderStatus","orderCard__item","orderCard__link","orderCard__header","createdAt","orderCard__title","orderCard__subTitle","orderCard__ingredientsList_wrapper","orderCard__ingredientsList","image_mobile","slice","orderCard__priceWrapper","orderCard__price","OrdersLists","ordersList__list","ProfilePage","isInfoChanged","handleResetChanges","handleSaveChanges","patchUserRequest","patchUser","form__buttons","orderHistoryPage__content","orders","reverse","NotFound404Page","notFound404__container","notFound404__wrapper","notFound404__link","StatisticTotal","statisticTotal__wrapper","statisticTotlal__content","LifeStatistic","hightlightSelection","color","lifeStatistic__wrapper","lifeStatistic__title","lifeStatistic__list","FeedStatistic","total","totalToday","doneOrders","pendingOrders","feedStatistic","feedStatsistic__listWrapper","FeedPage","feed__title","feed__orderSection","feed__statisticSection","IngredientDetails","params","useParams","captioncontainer","calories","proteins","fat","carbohydrates","IngredientInfo","ingredientInfo__wrapper","ingredientInfo__title","ingredientInfo__price","OrderInfo","exactOrder","updatedAt","api","getOrderByNumberApi","getOrderByNumber","orderInfo__wrapper","orderInfo__title","orderInfo__status","orderInfo__consist","orderInfo__list","orderInfo__footer","orderInfo__price","React","memo","App","getUserRequest","href","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.f0d5c345.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"ingredientGroupStyles_content__1kAXX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ingredientMoldStyles_container__sH-99\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modalOverlay_overlay__35JZj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"appFormSubmitStyles_wrapper__2pwIH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formwrapper\":\"formInputWrapperStyles_formwrapper__e0sZ7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ordersList__list\":\"ordersLists_ordersList__list__VHofr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"appHeaderStyles_header__1uX7e\",\"header__list\":\"appHeaderStyles_header__list__3f6Ee\",\"header__link\":\"appHeaderStyles_header__link__1Sh2S\",\"header__link_active\":\"appHeaderStyles_header__link_active__19ZNS\",\"container\":\"appHeaderStyles_container__2DiZC\",\"logo\":\"appHeaderStyles_logo__2J53j\",\"nav__menu_left\":\"appHeaderStyles_nav__menu_left__2Yvor\",\"nav__menu_right\":\"appHeaderStyles_nav__menu_right__3ngqo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main_container\":\"burgerConstructorDndStyles_main_container__D3QhM\",\"ingredients_list\":\"burgerConstructorDndStyles_ingredients_list__X6WLl\",\"ingredient\":\"burgerConstructorDndStyles_ingredient__1tcuD\",\"top_container\":\"burgerConstructorDndStyles_top_container__27SqR\",\"bottom_container\":\"burgerConstructorDndStyles_bottom_container__2PnJY\",\"outcome\":\"burgerConstructorDndStyles_outcome__3ZEAe\",\"price\":\"burgerConstructorDndStyles_price__A--ap\",\"container_wrapper\":\"burgerConstructorDndStyles_container_wrapper__BeBJ9\",\"constructor_container\":\"burgerConstructorDndStyles_constructor_container__149Os\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"orderCard__item\":\"orderCard_orderCard__item__GuJ5f\",\"orderCard__link\":\"orderCard_orderCard__link__1ukRt\",\"orderCard__header\":\"orderCard_orderCard__header__CH0pn\",\"orderCard__priceWrapper\":\"orderCard_orderCard__priceWrapper__1YTRv\",\"orderCard__price\":\"orderCard_orderCard__price__3kwur\",\"orderCard__ingredientsList\":\"orderCard_orderCard__ingredientsList__25t5Y\",\"orderCard__ingredientsList_wrapper\":\"orderCard_orderCard__ingredientsList_wrapper__2Irzf\",\"orderCard__subTitle\":\"orderCard_orderCard__subTitle__1T-9m\"};","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { IIngredient } from \"../../utils/types\";\r\n//       IngredientDetails .\r\nexport const SET_MODAL_ERROR: \"SET_MODAL_ERROR\" = \"SET_MODAL_ERROR\";\r\nexport const OPEN_MODAL_INGREDIENT: \"OPEN_MODAL_INGREDIENT\" =\r\n  \"OPEN_MODAL_INGREDIENT\";\r\nexport const OPEN_MODAL_ORDER: \"OPEN_MODAL_ORDER\" = \"OPEN_MODAL_ORDER\";\r\n//           .\r\n\r\nexport const CLOSE_MODAL: \"CLOSE_MODAL\" = \"CLOSE_MODAL\";\r\n\r\nexport interface ISetModalError {\r\n  readonly type: typeof SET_MODAL_ERROR;\r\n}\r\n\r\nexport interface IOpenModalIngredient {\r\n  readonly type: typeof OPEN_MODAL_INGREDIENT;\r\n  readonly ingredient: IIngredient;\r\n}\r\n\r\nexport interface IOpenModalOrder {\r\n  readonly type: typeof OPEN_MODAL_ORDER;\r\n}\r\n\r\nexport interface ICloseModal {\r\n  readonly type: typeof CLOSE_MODAL;\r\n}\r\n\r\nexport type TModalActions =\r\n  | ISetModalError\r\n  | IOpenModalIngredient\r\n  | IOpenModalOrder\r\n  | ICloseModal;\r\n\r\nexport const setModalError = (): ISetModalError => {\r\n  return {\r\n    type: SET_MODAL_ERROR,\r\n  };\r\n};\r\n\r\nexport const openModalIngredient = (ingredient: any): IOpenModalIngredient => {\r\n  return {\r\n    type: OPEN_MODAL_INGREDIENT,\r\n    ingredient,\r\n  };\r\n};\r\n\r\nexport const openModalOrder = (): IOpenModalOrder => {\r\n  return {\r\n    type: OPEN_MODAL_ORDER,\r\n  };\r\n};\r\n\r\nexport const closeModal = (): ICloseModal => {\r\n  return {\r\n    type: CLOSE_MODAL,\r\n  };\r\n};\r\n","import {\r\n  OPEN_MODAL_INGREDIENT,\r\n  OPEN_MODAL_ORDER,\r\n  SET_MODAL_ERROR,\r\n  CLOSE_MODAL,\r\n} from \"../actions/modalActions\";\r\n\r\nimport { TModalActions } from \"../actions/modalActions\";\r\n\r\ntype TmodalInitialState = {\r\n  modalIngredientData: any | null | undefined;\r\n  isOrderDetailModalVisible: boolean;\r\n  isIngredientDetailModalVisible: boolean;\r\n  hasModalError: boolean;\r\n};\r\nconst modalInitialState: TmodalInitialState = {\r\n  modalIngredientData: {},\r\n  isOrderDetailModalVisible: false,\r\n  isIngredientDetailModalVisible: false,\r\n  hasModalError: false,\r\n};\r\n\r\nexport const modalReducer = (\r\n  state = modalInitialState,\r\n  action: TModalActions\r\n) => {\r\n  switch (action.type) {\r\n    case OPEN_MODAL_INGREDIENT: {\r\n      return {\r\n        ...state,\r\n        hasModalError: true,\r\n        isIngredientDetailModalVisible: true,\r\n        modalIngredientData: action.ingredient,\r\n      };\r\n    }\r\n    case OPEN_MODAL_ORDER: {\r\n      return {\r\n        ...state,\r\n        hasModalError: true,\r\n        isOrderDetailModalVisible: true,\r\n      };\r\n    }\r\n    case SET_MODAL_ERROR: {\r\n      return {\r\n        ...state,\r\n        hasModalError: true,\r\n      };\r\n    }\r\n    case CLOSE_MODAL: {\r\n      return {\r\n        ...state,\r\n        modalIngredientData: {},\r\n        isOrderDetailModalVisible: false,\r\n        isIngredientDetailModalVisible: false,\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","//   \r\n//   \r\n\r\nexport interface ICookie {\r\n  [name: string]: string | number | boolean | Date | undefined;\r\n  expires?: Date | number | string;\r\n}\r\n\r\nexport function getCookie(name: string): string {\r\n  const matches: RegExpMatchArray | null = document.cookie.match(\r\n    new RegExp(\r\n      \"(?:^|; )\" + name.replace(/([$?*|{}\\]\\\\^])/g, \"\\\\$1\") + \"=([^;]*)\"\r\n    )\r\n  );\r\n  return matches ? decodeURIComponent(matches[1]) : \"\";\r\n}\r\n\r\nexport function setCookie(\r\n  name: string,\r\n  value: string | number | boolean,\r\n  props: ICookie = {}\r\n): void {\r\n  props = props || { path: \"/\" };\r\n  let exp = props.expires;\r\n  if (typeof exp == \"number\" && exp) {\r\n    const d = new Date();\r\n    d.setTime(d.getTime() + exp * 1000);\r\n    exp = d;\r\n  }\r\n  if (exp instanceof Date && exp) {\r\n    exp = exp.toUTCString();\r\n  }\r\n  const cookieValue: string = encodeURIComponent(value);\r\n  let updatedCookie: string = name + \"=\" + cookieValue;\r\n  let propName: keyof ICookie;\r\n  for (propName in props) {\r\n    updatedCookie += \"; \" + propName;\r\n    const propValue = props[propName];\r\n    if (!propValue) {\r\n      updatedCookie += \"=\" + propValue;\r\n    }\r\n  }\r\n  document.cookie = updatedCookie;\r\n}\r\n\r\nexport function deleteCookie(name: string): void {\r\n  setCookie(name, \"\", { expires: -1 });\r\n}\r\n","import { getCookie } from \"./cookies\";\r\n\r\nexport const BASE_URL = \"https://norma.nomoreparties.space/api\";\r\n\r\ntype TBaseUrl = { url: string };\r\n\r\nclass Api {\r\n  _url: string;\r\n  _headers: { [name: string]: string };\r\n  constructor({ url }: TBaseUrl) {\r\n    this._url = url;\r\n    this._headers = { \"Content-type\": \"application/json\" };\r\n  }\r\n\r\n  _getResponseData(res: Response) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`: ${res.status} - ${res.statusText}`);\r\n  }\r\n\r\n  getIngredients() {\r\n    return fetch(`${BASE_URL}/ingredients`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then(this._getResponseData);\r\n  }\r\n\r\n  getOrderNumber(orderIngredientList: string[]) {\r\n    return fetch(`${BASE_URL}/orders`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        ...this._headers,\r\n        Authorization: `Bearer ${getCookie(\"accessToken\")}`,\r\n      },\r\n      body: JSON.stringify({ ingredients: orderIngredientList }),\r\n    });\r\n  }\r\n\r\n  registerNewUserRequest(\r\n    email: string,\r\n    password: string,\r\n    name: string,\r\n    accessToken: string\r\n  ) {\r\n    return fetch(`${BASE_URL}/auth/register`, {\r\n      method: \"POST\",\r\n      headers: { ...this._headers, Authorization: `Bearer ${accessToken}` },\r\n      body: JSON.stringify({\r\n        email: email,\r\n        password: password,\r\n        name: name,\r\n      }),\r\n    }).then(this._getResponseData);\r\n  }\r\n\r\n  signInUserRequest(email: string, password: string, accessToken: string) {\r\n    return fetch(`${BASE_URL}/auth/login`, {\r\n      method: \"POST\",\r\n      headers: { ...this._headers, Authorization: `Bearer ${accessToken}` },\r\n      body: JSON.stringify({\r\n        email: email,\r\n        password: password,\r\n      }),\r\n    }).then(this._getResponseData);\r\n  }\r\n\r\n  signOutUserRequest(refreshToken: string) {\r\n    return fetch(`${BASE_URL}/auth/logout`, {\r\n      method: \"POST\",\r\n      headers: { ...this._headers, Authorization: `Bearer ${refreshToken}` },\r\n      body: JSON.stringify({ token: refreshToken }),\r\n    }).then(this._getResponseData);\r\n  }\r\n\r\n  updateToken() {\r\n    return fetch(`${BASE_URL}/auth/token`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({ token: getCookie(\"refreshToken\") }),\r\n    }).then(this._getResponseData);\r\n  }\r\n\r\n  /*\r\nGET https://norma.nomoreparties.space/api/auth/user -     .\r\nPATCH https://norma.nomoreparties.space/api/auth/user -     .\r\n*/\r\n\r\n  /* GET     */\r\n\r\n  getUserRequest() {\r\n    return fetch(`${BASE_URL}/auth/user`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        ...this._headers,\r\n        Authorization: `Bearer ${getCookie(\"accessToken\")}`,\r\n      },\r\n    }).then(this._getResponseData);\r\n  }\r\n\r\n  /* PATCH     */\r\n\r\n  patchUserRequest(\r\n    name: string,\r\n    email: string,\r\n    password: string,\r\n    accessToken: string\r\n  ) {\r\n    return fetch(`${BASE_URL}/auth/user`, {\r\n      method: \"PATCH\",\r\n      headers: { ...this._headers, Authorization: `Bearer ${accessToken}` },\r\n      body: JSON.stringify({\r\n        email: email,\r\n        password: password,\r\n        name: name,\r\n      }),\r\n    }).then(this._getResponseData);\r\n  }\r\n\r\n  remindPassword(email: string, accessToken: string) {\r\n    return fetch(`${BASE_URL}/password-reset`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({ email }),\r\n    }).then(this._getResponseData);\r\n  }\r\n\r\n  resetUserPassword(password: string, accessToken: string) {\r\n    return fetch(`${BASE_URL}/password-reset/reset`, {\r\n      method: \"POST\",\r\n      headers: { ...this._headers, Authorization: `Bearer ${accessToken}` },\r\n      body: JSON.stringify({ password: password, token: accessToken }),\r\n    }).then(this._getResponseData);\r\n  }\r\n\r\n  getOrderByNumberApi(number: number) {\r\n    return fetch(`${BASE_URL}/orders/${number}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        ...this._headers,\r\n      },\r\n    }).then(this._getResponseData);\r\n  }\r\n}\r\n\r\nexport default new Api({ url: BASE_URL });\r\n","import { AnyAction, MiddlewareAPI } from \"redux\";\r\nimport { getCookie } from \"../../utils/cookies\";\r\nimport { TWsOrdersActions } from \"../../utils/types\";\r\n\r\nexport const socketMiddleware = (\r\n  wsUrl: string,\r\n  wsActions: TWsOrdersActions\r\n) => {\r\n  return (store: MiddlewareAPI) => {\r\n    let socket: WebSocket | null = null;\r\n\r\n    return (next: (A: AnyAction) => void) => (action: AnyAction) => {\r\n      const { dispatch } = store;\r\n      const { type } = action;\r\n      const {\r\n        wsAllOrdersData,\r\n        wsUserOrdersData,\r\n        onOpen,\r\n        onClose,\r\n        onError,\r\n        onMessage,\r\n      } = wsActions;\r\n      //console.log(\"wsActions:\", wsActions);\r\n      //console.log(\"wsTypeAction:\", type);\r\n\r\n      if (type === wsAllOrdersData) {\r\n        socket = new WebSocket(`${wsUrl}/orders/all`);\r\n      }\r\n\r\n      if (type === wsUserOrdersData) {\r\n        const token = getCookie(\"accessToken\").replace(\"Bearer \", \"\");\r\n        //console.log(\"token in WS\", token);\r\n        socket = new WebSocket(`${wsUrl}/orders?token=${token}`);\r\n      }\r\n\r\n      if (socket) {\r\n        socket.onopen = (event) => {\r\n          //console.log(\" \", socket);\r\n          dispatch({ type: onOpen, payload: event });\r\n        };\r\n\r\n        socket.onerror = (event) => {\r\n          console.log(` ${event}`);\r\n          dispatch({ type: onError, payload: event });\r\n        };\r\n\r\n        socket.onmessage = (event) => {\r\n          const { data } = event;\r\n          //console.log(data);\r\n          const parsedData = JSON.parse(data);\r\n          const { ...resetParsedData } = parsedData;\r\n\r\n          dispatch({ type: onMessage, payload: resetParsedData });\r\n        };\r\n\r\n        socket.onclose = (event) => {\r\n          dispatch({ type: onClose, payload: event });\r\n        };\r\n      }\r\n      next(action);\r\n    };\r\n  };\r\n};\r\n","import { IIngredient } from \"../../utils/types\";\r\nimport Api from \"../../utils/api\";\r\nimport { AppDispatch, AppThunk, RootState } from \"../..\";\r\n\r\nexport const GET_INGREDIENTS_API_REQUEST: \"GET_INGREDIENTS_API_REQUEST\" =\r\n  \"GET_INGREDIENTS_API_REQUEST\";\r\nexport const GET_INGREDIENTS_API_FAILD: \"GET_INGREDIENTS_API_FAILD\" =\r\n  \"GET_INGREDIENTS_API_FAILD\";\r\nexport const GET_INGREDIENTS_API_SUCCESS: \"GET_INGREDIENTS_API_SUCCESS\" =\r\n  \"GET_INGREDIENTS_API_SUCCESS\";\r\n\r\nexport interface IGetIngredientsRequest {\r\n  readonly type: typeof GET_INGREDIENTS_API_REQUEST;\r\n}\r\n\r\nexport interface IGetIngredientsSuccess {\r\n  readonly type: typeof GET_INGREDIENTS_API_SUCCESS;\r\n  readonly ingredients: IIngredient[];\r\n}\r\n\r\nexport interface IGetIngredientsFailed {\r\n  readonly type: typeof GET_INGREDIENTS_API_FAILD;\r\n}\r\n\r\nexport type TIngredientsActions =\r\n  | IGetIngredientsRequest\r\n  | IGetIngredientsSuccess\r\n  | IGetIngredientsFailed;\r\n\r\nconst getIngredientsApiRequest = (): IGetIngredientsRequest => {\r\n  return {\r\n    type: GET_INGREDIENTS_API_REQUEST,\r\n  };\r\n};\r\n\r\nconst getIngredientsApiSuccess = (\r\n  ingredients: IIngredient[]\r\n): IGetIngredientsSuccess => {\r\n  return {\r\n    type: GET_INGREDIENTS_API_SUCCESS,\r\n    ingredients,\r\n  };\r\n};\r\n\r\nconst getIngredientsApiFaild = (): IGetIngredientsFailed => {\r\n  return {\r\n    type: GET_INGREDIENTS_API_FAILD,\r\n  };\r\n};\r\n\r\nexport const getIngredientsRequestApi: AppThunk = () => {\r\n  return function (dispatch: AppDispatch) {\r\n    dispatch(getIngredientsApiRequest());\r\n    Api.getIngredients()\r\n      .then((res) => {\r\n        dispatch(getIngredientsApiSuccess(res.data));\r\n      })\r\n      .catch((error) => {\r\n        console.log(`    , : ${error}`);\r\n        dispatch(getIngredientsApiFaild());\r\n      });\r\n  };\r\n};\r\n\r\nexport const findIngredientById = (id: string) => (state: RootState) => {\r\n  return state.ingredients.ingredientsDataFromServer.find(\r\n    (item: IIngredient) => item._id === id\r\n  );\r\n};\r\n\r\nexport const getOrderIngredientsDataByIds =\r\n  (idsArr: string[]) => (state: RootState) => {\r\n    const ingredientsArr = idsArr\r\n      .filter((id) => typeof id === \"string\")\r\n      .map((id) =>\r\n        state.ingredients.ingredientsDataFromServer.find(\r\n          (item: IIngredient) => item._id === id\r\n        )\r\n      );\r\n    //console.log(\"ingredientsArr\", ingredientsArr);\r\n\r\n    const combinedIng = ingredientsArr.filter(function (element, index) {\r\n      return ingredientsArr.indexOf(element) === index;\r\n    });\r\n\r\n    const quantityAddedArr = combinedIng.map((ingredient) => ({\r\n      ...ingredient,\r\n      quantity: ingredientsArr.reduce((qty, item) => {\r\n        if (ingredient?._id === item?._id) {\r\n          qty++;\r\n        }\r\n        return qty;\r\n      }, 0),\r\n    }));\r\n\r\n    //console.log(\"\", combinedIng);\r\n    //console.log(\" \", quantityAddedArr);\r\n\r\n    const totalPrice = ingredientsArr.reduce((sum, ingredient) => {\r\n      if (ingredient) sum += ingredient.price;\r\n      return sum;\r\n    }, 0);\r\n    //const totalPrice = 1510;\r\n    return {\r\n      ingredients: quantityAddedArr,\r\n      totalPrice: totalPrice,\r\n    };\r\n  };\r\n","import {\r\n  GET_INGREDIENTS_API_REQUEST,\r\n  GET_INGREDIENTS_API_FAILD,\r\n  GET_INGREDIENTS_API_SUCCESS,\r\n} from \"../actions/ingredientsActions\";\r\n\r\nimport { TIngredientsActions } from \"../actions/ingredientsActions\";\r\n\r\nimport { IIngredient } from \"../../utils/types\";\r\n\r\ntype TdefaultIngredientsState = {\r\n  ingredientsApiRequest: boolean;\r\n  ingredientsApiFailed: boolean;\r\n  ingredientsDataFromServer: IIngredient[];\r\n};\r\nconst defaultIngredientsState: TdefaultIngredientsState = {\r\n  ingredientsApiRequest: true,\r\n  ingredientsApiFailed: false,\r\n  ingredientsDataFromServer: [],\r\n};\r\n\r\nexport const ingredientsReducer = (\r\n  state = defaultIngredientsState,\r\n  action: TIngredientsActions\r\n): TdefaultIngredientsState => {\r\n  switch (action.type) {\r\n    case GET_INGREDIENTS_API_REQUEST: {\r\n      return {\r\n        ...state,\r\n        ingredientsApiRequest: true,\r\n        ingredientsApiFailed: false,\r\n      };\r\n    }\r\n    case GET_INGREDIENTS_API_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        ingredientsDataFromServer: action.ingredients,\r\n        ingredientsApiRequest: false,\r\n      };\r\n    }\r\n    case GET_INGREDIENTS_API_FAILD: {\r\n      return {\r\n        ...defaultIngredientsState,\r\n        ingredientsApiFailed: true,\r\n        ingredientsApiRequest: false,\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { BASE_URL } from \"../../utils/api\";\r\nimport type { AppDispatch, AppThunk, RootState } from \"../../index\";\r\nimport { TWsOrder } from \"../../utils/types\";\r\nimport { getCookie } from \"../../utils/cookies\";\r\n\r\n//        OrderDetails.\r\nexport const SEND_ORDER_NUMBER_REQUEST: \"SEND_ORDER_NUMBER_REQUEST\" =\r\n  \"SEND_ORDER_NUMBER_REQUEST\";\r\nexport const SEND_ORDER_NUMBER_FAILED: \"SEND_ORDER_NUMBER_FAILED\" =\r\n  \"SEND_ORDER_NUMBER_FAILED\";\r\nexport const SEND_ORDER_NUMBER_SUCCESS: \"SEND_ORDER_NUMBER_SUCCESS\" =\r\n  \"SEND_ORDER_NUMBER_SUCCESS\";\r\n\r\nexport interface ISendOrderNumberRequest {\r\n  readonly type: typeof SEND_ORDER_NUMBER_REQUEST;\r\n}\r\n\r\nexport interface ISendOrderNumberSuccess {\r\n  readonly type: typeof SEND_ORDER_NUMBER_SUCCESS;\r\n  readonly orderID: number;\r\n}\r\n\r\nexport interface ISendOrderNumberFaild {\r\n  readonly type: typeof SEND_ORDER_NUMBER_FAILED;\r\n}\r\n\r\nexport type TOrderActions =\r\n  | ISendOrderNumberRequest\r\n  | ISendOrderNumberSuccess\r\n  | ISendOrderNumberFaild;\r\n\r\nconst sendOrderNumberRequest = (): ISendOrderNumberRequest => {\r\n  return {\r\n    type: SEND_ORDER_NUMBER_REQUEST,\r\n  };\r\n};\r\n\r\nconst sendOrderNumberSuccess = (orderID: number): ISendOrderNumberSuccess => {\r\n  return {\r\n    type: SEND_ORDER_NUMBER_SUCCESS,\r\n    orderID,\r\n  };\r\n};\r\n\r\nconst sendOrderNumberFailed = (): ISendOrderNumberFaild => {\r\n  return {\r\n    type: SEND_ORDER_NUMBER_FAILED,\r\n  };\r\n};\r\n\r\nexport const getOrderNumberApi: AppThunk = (\r\n  orderIngredientList: Array<string>\r\n) => {\r\n  return async (dispatch: AppDispatch) => {\r\n    const postOrderOption = {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${getCookie(\"accessToken\")}`,\r\n      },\r\n      body: JSON.stringify({\r\n        ingredients: orderIngredientList,\r\n      }),\r\n    };\r\n\r\n    try {\r\n      dispatch(sendOrderNumberRequest());\r\n      const res = await fetch(`${BASE_URL}/orders`, postOrderOption);\r\n      if (res.ok) {\r\n        const serverResOrderId = await res.json();\r\n        //console.log(\"yea\");\r\n        dispatch(sendOrderNumberSuccess(serverResOrderId));\r\n      } else {\r\n        throw new Error(`Error ${res.status}`);\r\n      }\r\n    } catch (error) {\r\n      dispatch(sendOrderNumberFailed());\r\n    }\r\n  };\r\n};\r\n\r\nexport const findExactOrderByNumber =\r\n  (number: number) => (state: RootState) => {\r\n    const order = state.feed.ordersData?.orders.find(\r\n      (order: TWsOrder) => order.number === number\r\n    );\r\n    return order\r\n      ? order\r\n      : {\r\n          _id: \"\",\r\n          status: \"\",\r\n          name: \"\",\r\n          createdAt: \"\",\r\n          updatedAt: \"\",\r\n          number: 0,\r\n          ingredients: [\"\"],\r\n        };\r\n  };\r\n","import {\r\n  SEND_ORDER_NUMBER_REQUEST,\r\n  SEND_ORDER_NUMBER_FAILED,\r\n  SEND_ORDER_NUMBER_SUCCESS,\r\n} from \"../actions/orderActions\";\r\n\r\nimport { TOrderActions } from \"../actions/orderActions\";\r\n\r\ntype TdefaultOrderState = {\r\n  orderId: number | null;\r\n  isOrderInfoLoading: boolean;\r\n  isOrderInfoRequestFaild: boolean;\r\n};\r\n\r\nconst defaultOrderState: TdefaultOrderState = {\r\n  orderId: null,\r\n  isOrderInfoLoading: false,\r\n  isOrderInfoRequestFaild: false,\r\n};\r\n\r\nexport const orderReducer = (\r\n  state = defaultOrderState,\r\n  action: TOrderActions\r\n) => {\r\n  switch (action.type) {\r\n    case SEND_ORDER_NUMBER_REQUEST: {\r\n      return {\r\n        ...state,\r\n        isOrderInfoLoading: true,\r\n      };\r\n    }\r\n    case SEND_ORDER_NUMBER_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        orderId: action.orderID,\r\n        isOrderInfoLoading: false,\r\n        isOrderInfoRequestFaild: false,\r\n      };\r\n    }\r\n    case SEND_ORDER_NUMBER_FAILED: {\r\n      return {\r\n        ...state,\r\n        orderId: null,\r\n        isOrderInfoFaild: true,\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { IIngredient } from \"../../utils/types\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nexport const DROP_SELECTED_INGREDIENT: \"DROP_SELECTED_INGREDIENT\" =\r\n  \"DROP_SELECTED_INGREDIENT\";\r\nexport const DELETE_INGREDIENT: \"DELETE_INGREDIENT\" = \"DELETE_INGREDIENT\";\r\nexport const CLEAR_ORDER_LIST: \"CLEAR_ORDER_LIST\" = \"CLEAR_ORDER_LIST\";\r\nexport const REORDER_CONSTRUCTOR_INGREDIENT: \"REORDER_CONSTRUCTOR_INGREDIENT\" =\r\n  \"REORDER_CONSTRUCTOR_INGREDIENT\";\r\n\r\nexport interface IDropSelectedIngredient {\r\n  readonly type: typeof DROP_SELECTED_INGREDIENT;\r\n  readonly droppedIngredient: IIngredient;\r\n}\r\n\r\nexport interface IDeleteIngredient {\r\n  readonly type: typeof DELETE_INGREDIENT;\r\n  readonly indexToDelete: number;\r\n}\r\n\r\nexport interface IClearOrderList {\r\n  readonly type: typeof CLEAR_ORDER_LIST;\r\n}\r\n\r\nexport interface IReorderConstructorIngredient {\r\n  readonly type: typeof REORDER_CONSTRUCTOR_INGREDIENT;\r\n  readonly targetElementIndex: number;\r\n  readonly draggedElementIndex: number;\r\n}\r\n\r\nexport type TConstructorActions =\r\n  | IDropSelectedIngredient\r\n  | IDeleteIngredient\r\n  | IClearOrderList\r\n  | IReorderConstructorIngredient;\r\n\r\nexport const dropSelectedIngredient = (\r\n  ingredient: IIngredient\r\n): IDropSelectedIngredient => {\r\n  return {\r\n    type: DROP_SELECTED_INGREDIENT,\r\n    droppedIngredient: { ...ingredient, uid: uuidv4() },\r\n  };\r\n};\r\n\r\nexport const deleteIngredient = (indexToDelete: number): IDeleteIngredient => {\r\n  return { type: DELETE_INGREDIENT, indexToDelete };\r\n};\r\n\r\nexport const clearOrderList = (): IClearOrderList => {\r\n  return {\r\n    type: CLEAR_ORDER_LIST,\r\n  };\r\n};\r\n\r\nexport const reorderConstructorIngredient = (\r\n  draggedElementIndex: number,\r\n  targetElementIndex: number\r\n): IReorderConstructorIngredient => {\r\n  return {\r\n    type: REORDER_CONSTRUCTOR_INGREDIENT,\r\n    draggedElementIndex,\r\n    targetElementIndex,\r\n  };\r\n};\r\n","import {\r\n  CLEAR_ORDER_LIST,\r\n  DROP_SELECTED_INGREDIENT,\r\n  DELETE_INGREDIENT,\r\n  REORDER_CONSTRUCTOR_INGREDIENT,\r\n} from \"../actions/constructorActions\";\r\n\r\nimport { TConstructorActions } from \"../actions/constructorActions\";\r\n\r\nimport { IIngredient } from \"../../utils/types\";\r\n\r\ntype TdefaultBurgerConstructorState = {\r\n  droppedIngredients: IIngredient[];\r\n  droppedBun: IIngredient | null;\r\n};\r\n\r\nconst defaultBurgerConstructorState: TdefaultBurgerConstructorState = {\r\n  droppedIngredients: [],\r\n  droppedBun: null,\r\n};\r\n\r\nexport const constructorReducer = (\r\n  state = defaultBurgerConstructorState,\r\n  action: TConstructorActions\r\n) => {\r\n  switch (action.type) {\r\n    case DROP_SELECTED_INGREDIENT: {\r\n      const droppedIngredient = action.droppedIngredient;\r\n      if (droppedIngredient.type === \"bun\") {\r\n        return {\r\n          ...state,\r\n          droppedBun: droppedIngredient,\r\n        };\r\n      }\r\n      return {\r\n        ...state,\r\n        droppedIngredients: [...state.droppedIngredients, droppedIngredient],\r\n      };\r\n    }\r\n    case DELETE_INGREDIENT: {\r\n      return {\r\n        ...state,\r\n        droppedIngredients: state.droppedIngredients.filter(\r\n          (i, index) => index !== action.indexToDelete\r\n        ),\r\n      };\r\n    }\r\n    case CLEAR_ORDER_LIST: {\r\n      return {\r\n        ...state,\r\n        droppedIngredients: [],\r\n        droppedBun: null,\r\n      };\r\n    }\r\n    case REORDER_CONSTRUCTOR_INGREDIENT: {\r\n      const constructorIngredientsArr = [...state.droppedIngredients];\r\n      const draggedEl = constructorIngredientsArr.splice(\r\n        action.draggedElementIndex,\r\n        1\r\n      ); //        draggedElementIndex\r\n      constructorIngredientsArr.splice(\r\n        action.targetElementIndex,\r\n        0,\r\n        draggedEl[0]\r\n      ); //     \r\n      return {\r\n        ...state,\r\n        droppedIngredients: constructorIngredientsArr,\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { AppThunk, AppDispatch } from \"../..\";\r\nimport Api from \"../../utils/api\";\r\nimport { getCookie, setCookie } from \"../../utils/cookies\";\r\nimport { TUser } from \"../../utils/types\";\r\n\r\nexport const REGISTER_NEW_USER_REQUEST: \"REGISTER_NEW_USER_REQUEST\" =\r\n  \"REGISTER_NEW_USER_REQUEST\";\r\nexport const REGISTER_NEW_USER_SUCCESS: \"REGISTER_NEW_USER_SUCCESS\" =\r\n  \"REGISTER_NEW_USER_SUCCESS\";\r\nexport const REGISTER_NEW_USER_FAILD: \"REGISTER_NEW_USER_FAILD\" =\r\n  \"REGISTER_NEW_USER_FAILD\";\r\n\r\nexport const LOGIN_USER_REQUEST: \"LOGIN_USER_REQUEST\" = \"LOGIN_USER_REQUEST\";\r\nexport const LOGIN_USER_SUCCESS: \"LOGIN_USER_SUCCESS\" = \"LOGIN_USER_SUCCESS\";\r\nexport const LOGIN_USER_FAILD: \"LOGIN_USER_FAILD\" = \"LOGIN_USER_FAILD\";\r\n\r\nexport const LOGOUT_USER_REQUEST: \"LOGOUT_USER_REQUEST\" = \"LOGOUT_USER_REQUEST\";\r\n\r\nexport const REMIND_PASSWORD_REQUEST: \"REMIND_PASSWORD_REQUEST\" =\r\n  \"REMIND_PASSWORD_REQUEST\";\r\nexport const REMIND_PASSWORD_SUCCESS: \"REMIND_PASSWORD_SUCCESS\" =\r\n  \"REMIND_PASSWORD_SUCCESS\";\r\nexport const REMIND_PASSWORD_ERROR: \"REMIND_PASSWORD_ERROR\" =\r\n  \"REMIND_PASSWORD_ERROR\";\r\n\r\nexport const SET_PASSWORD_REQUEST: \"SET_PASSWORD_REQUEST\" =\r\n  \"SET_PASSWORD_REQUEST\";\r\nexport const SET_PASSWORD_SUCCESS: \"SET_PASSWORD_SUCCESS\" =\r\n  \"SET_PASSWORD_SUCCESS\";\r\nexport const SET_PASSWORD_ERROR: \"SET_PASSWORD_ERROR\" = \"SET_PASSWORD_ERROR\";\r\n\r\nexport const CHANGE_NAME_REQUEST: \"CHANGE_NAME_REQUEST\" = \"CHANGE_NAME_REQUEST\";\r\nexport const CHANGE_EMAIL_REQUEST: \"CHANGE_EMAIL_REQUEST\" =\r\n  \"CHANGE_EMAIL_REQUEST\";\r\nexport const CHANGE_PASSWOTD_REQUEST: \"CHANGE_PASSWORD_REQUEST\" =\r\n  \"CHANGE_PASSWORD_REQUEST\";\r\n\r\nexport const GET_USER_DATA_REQUEST: \"GET_USER_DATA_REQUEST\" =\r\n  \"GET_USER_DATA_REQUEST\";\r\nexport const GET_USER_DATA_SUCCESS: \"GET_USER_DATA_SUCCESS\" =\r\n  \"GET_USER_DATA_SUCCESS\";\r\nexport const GET_USER_DATA_ERROR: \"GET_USER_DATA_ERROR\" = \"GET_USER_DATA_ERROR\";\r\n\r\nexport const AUTH_CHECKED: \"AUTH_CHECKED\" = \"AUTH_CHECKED\";\r\n\r\nexport interface IRegisterNewUserRequest {\r\n  readonly type: typeof REGISTER_NEW_USER_REQUEST;\r\n}\r\nexport interface IRegisterNewUserSuccess {\r\n  readonly type: typeof REGISTER_NEW_USER_SUCCESS;\r\n  readonly payload: TUser;\r\n}\r\nexport interface IRegisterNewUserFaild {\r\n  readonly type: typeof REGISTER_NEW_USER_FAILD;\r\n}\r\n\r\nexport interface ILoginUserRequest {\r\n  readonly type: typeof LOGIN_USER_REQUEST;\r\n}\r\nexport interface ILoginUserSuccess {\r\n  readonly type: typeof LOGIN_USER_SUCCESS;\r\n  readonly payload: TUser;\r\n}\r\nexport interface ILoginUserFaild {\r\n  readonly type: typeof LOGIN_USER_FAILD;\r\n}\r\n\r\nexport interface ILogoutUserRequest {\r\n  readonly type: typeof LOGOUT_USER_REQUEST;\r\n}\r\n\r\nexport interface IRemindPasswordRequest {\r\n  readonly type: typeof REMIND_PASSWORD_REQUEST;\r\n}\r\nexport interface IRemindPasswordSuccess {\r\n  readonly type: typeof REMIND_PASSWORD_SUCCESS;\r\n  readonly result: boolean;\r\n}\r\nexport interface IRemindPasswordFaild {\r\n  readonly type: typeof REMIND_PASSWORD_ERROR;\r\n}\r\n\r\nexport interface ISetPasswordRequest {\r\n  readonly type: typeof SET_PASSWORD_REQUEST;\r\n}\r\nexport interface ISetPasswordSuccess {\r\n  readonly type: typeof SET_PASSWORD_SUCCESS;\r\n  readonly result: boolean;\r\n}\r\nexport interface ISetPasswordFaild {\r\n  readonly type: typeof SET_PASSWORD_ERROR;\r\n}\r\n\r\nexport interface IGetUserDataRequest {\r\n  readonly type: typeof GET_USER_DATA_REQUEST;\r\n}\r\nexport interface IGetUserDataSuccess {\r\n  readonly type: typeof GET_USER_DATA_SUCCESS;\r\n  readonly payload: TUser;\r\n}\r\nexport interface IGetUserDataError {\r\n  readonly type: typeof GET_USER_DATA_ERROR;\r\n}\r\n\r\nexport interface IAuthChecked {\r\n  readonly type: typeof AUTH_CHECKED;\r\n}\r\n\r\nexport type TUserRequestActions =\r\n  | IRegisterNewUserRequest\r\n  | IRegisterNewUserSuccess\r\n  | IRegisterNewUserFaild\r\n  | ILoginUserRequest\r\n  | ILoginUserSuccess\r\n  | ILoginUserFaild\r\n  | ILogoutUserRequest\r\n  | IRemindPasswordRequest\r\n  | IRemindPasswordSuccess\r\n  | IRemindPasswordFaild\r\n  | ISetPasswordRequest\r\n  | ISetPasswordSuccess\r\n  | ISetPasswordFaild\r\n  | IGetUserDataRequest\r\n  | IGetUserDataSuccess\r\n  | IGetUserDataError\r\n  | IAuthChecked;\r\n\r\nexport const registerNewUser: AppThunk = (\r\n  email: string,\r\n  password: string,\r\n  name: string,\r\n  accessToken: string\r\n) => {\r\n  return function (dispatch: AppDispatch) {\r\n    dispatch({\r\n      type: REGISTER_NEW_USER_REQUEST,\r\n    });\r\n    Api.registerNewUserRequest(email, password, name, accessToken)\r\n      .then((res) => {\r\n        setCookie(\"accessToken\", res.accessToken.split(\"Bearer \")[1]);\r\n        setCookie(\"refreshToken\", res.refreshToken);\r\n        dispatch({ type: REGISTER_NEW_USER_SUCCESS, payload: res });\r\n      })\r\n      .catch((error) => {\r\n        console.log(`   . ${error}`);\r\n        dispatch({\r\n          type: REGISTER_NEW_USER_FAILD,\r\n        });\r\n      });\r\n  };\r\n};\r\n\r\nexport const loginUser: AppThunk = (\r\n  email: string,\r\n  password: string,\r\n  accessToken: string\r\n) => {\r\n  return function (dispatch: AppDispatch) {\r\n    dispatch({ type: LOGIN_USER_REQUEST });\r\n    Api.signInUserRequest(email, password, accessToken)\r\n      .then((res) => {\r\n        setCookie(\"accessToken\", res.accessToken.split(\"Bearer \")[1]);\r\n        setCookie(\"refreshToken\", res.refreshToken);\r\n        dispatch({\r\n          type: LOGIN_USER_SUCCESS,\r\n          payload: res,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(`    . ${error}`);\r\n        dispatch({ type: LOGIN_USER_FAILD });\r\n      });\r\n  };\r\n};\r\n/*\r\n//TODO\r\nexport const checkUserAuth: AppThunk = () => {\r\n  return function (dispatch: AppDispatch) {\r\n    if (getCookie(\"accessToken\")) {\r\n      console.log(\"user Logged in\");\r\n      dispatch({ type: AUTH_CHECKED });\r\n    } else {\r\n      console.log(\" user dont loggedin\");\r\n      dispatch({ type: AUTH_CHECKED });\r\n    }\r\n  };\r\n};*/\r\n\r\nexport const checkUserAuth: AppThunk = () => {\r\n  return function (dispatch: AppDispatch) {\r\n    if (getCookie(\"accessToken\")) {\r\n      Api.getUserRequest().then((res) => {\r\n        dispatch({ type: AUTH_CHECKED });\r\n        dispatch({\r\n          type: GET_USER_DATA_SUCCESS,\r\n          payload: res,\r\n        });\r\n      });\r\n    } else {\r\n      dispatch({ type: AUTH_CHECKED });\r\n    }\r\n  };\r\n};\r\n\r\nexport const getRemindUserPassword: AppThunk = (\r\n  email: string,\r\n  accessToken: string\r\n) => {\r\n  return function (dispatch: AppDispatch) {\r\n    dispatch({ type: REMIND_PASSWORD_REQUEST });\r\n    Api.remindPassword(email, accessToken)\r\n      .then((res) => {\r\n        dispatch({ type: REMIND_PASSWORD_SUCCESS, result: res.success });\r\n      })\r\n      .catch((error) => {\r\n        console.log(\r\n          `     . ${error}`\r\n        );\r\n        dispatch({ type: REMIND_PASSWORD_ERROR });\r\n      });\r\n  };\r\n};\r\n\r\nexport const setUserNewPassword: AppThunk = (\r\n  password: string,\r\n  token: string\r\n) => {\r\n  return function (dispatch: AppDispatch) {\r\n    dispatch({ type: SET_PASSWORD_REQUEST });\r\n    Api.resetUserPassword(password, token)\r\n      .then((res) =>\r\n        dispatch({ type: SET_PASSWORD_SUCCESS, result: res.success })\r\n      )\r\n      .catch((error) => {\r\n        console.log(\r\n          `      . ${error}`\r\n        );\r\n        dispatch({ type: SET_PASSWORD_ERROR });\r\n      });\r\n  };\r\n};\r\n/*      profle*/\r\n\r\nexport const getUser: AppThunk = () => {\r\n  return function (dispatch: AppDispatch) {\r\n    dispatch({ type: GET_USER_DATA_REQUEST });\r\n    Api.getUserRequest()\r\n      .then((res) => {\r\n        dispatch({\r\n          type: GET_USER_DATA_SUCCESS,\r\n          payload: res,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        if (error.message === \"jwt expired\" || \"jwt malformed\") {\r\n          if (!getCookie(\"refreshToken\")) {\r\n            throw new Error(\"refreshToken  cookie \");\r\n          }\r\n          Api.updateToken()\r\n            .then((res) => {\r\n              setCookie(\"accessToken\", res.accessToken.split(\"Bearer \")[1]);\r\n              setCookie(\"refreshToken\", res.refreshToken);\r\n              dispatch({\r\n                type: GET_USER_DATA_SUCCESS,\r\n                payload: res,\r\n              });\r\n            })\r\n            .catch((error) => {\r\n              console.log(`   . ${error}`);\r\n            });\r\n        } else {\r\n          console.log(\r\n            `     . ${error}`\r\n          );\r\n          dispatch({ type: GET_USER_DATA_ERROR });\r\n        }\r\n      });\r\n  };\r\n};\r\n/*     profle*/\r\n\r\nexport const patchUser: AppThunk = (\r\n  name: string,\r\n  email: string,\r\n  password: string\r\n) => {\r\n  return function (dispatch: AppDispatch) {\r\n    const accessToken = getCookie(\"accessToken\");\r\n    Api.patchUserRequest(name, email, password, accessToken)\r\n      .then((res) => dispatch({ type: GET_USER_DATA_SUCCESS, payload: res }))\r\n      .catch((error) => {\r\n        console.log(\r\n          `      . ${error}`\r\n        );\r\n        dispatch({ type: GET_USER_DATA_ERROR });\r\n      });\r\n  };\r\n};\r\n","import {\r\n  REGISTER_NEW_USER_SUCCESS,\r\n  LOGIN_USER_SUCCESS,\r\n  LOGOUT_USER_REQUEST,\r\n  REMIND_PASSWORD_SUCCESS,\r\n  SET_PASSWORD_SUCCESS,\r\n  GET_USER_DATA_SUCCESS,\r\n  AUTH_CHECKED,\r\n} from \"../actions/userActions\";\r\n\r\nimport { TUserRequestActions } from \"../actions/userActions\";\r\n\r\ntype TUserState = {\r\n  userName: string | null;\r\n  userEmail: string | null;\r\n  userPassword: string;\r\n  userIsAuth: boolean;\r\n  resetPswResult: boolean;\r\n  setPswResult: boolean;\r\n  isAuthChecked: boolean;\r\n};\r\n\r\nconst defaultUserState: TUserState = {\r\n  userName: null,\r\n  userEmail: null,\r\n  userPassword: \"\",\r\n  userIsAuth: false,\r\n  resetPswResult: false,\r\n  setPswResult: false,\r\n  isAuthChecked: false,\r\n};\r\n\r\nexport const userDataReducer = (\r\n  state = defaultUserState,\r\n  action: TUserRequestActions\r\n) => {\r\n  switch (action.type) {\r\n    case AUTH_CHECKED:\r\n      return {\r\n        ...state,\r\n        isAuthChecked: true,\r\n      };\r\n    case REGISTER_NEW_USER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        userIsAuth: true,\r\n        userName: action.payload.user.name,\r\n        userEmail: action.payload.user.email,\r\n      };\r\n    case LOGIN_USER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        userIsAuth: true,\r\n        userName: action.payload.user.name,\r\n        userEmail: action.payload.user.email,\r\n      };\r\n    case LOGOUT_USER_REQUEST:\r\n      return {\r\n        userEmail: \"\",\r\n        userName: \"\",\r\n        userPassword: \"\",\r\n        userIsAuth: false,\r\n      };\r\n    case REMIND_PASSWORD_SUCCESS:\r\n      return {\r\n        resetPswResult: action.result,\r\n      };\r\n    case SET_PASSWORD_SUCCESS:\r\n      return {\r\n        setPswResult: action.result,\r\n      };\r\n    case GET_USER_DATA_SUCCESS:\r\n      return {\r\n        ...state,\r\n        userIsAuth: true,\r\n        userName: action.payload.user.name,\r\n        userEmail: action.payload.user.email,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { AppDispatch, AppThunk } from \"../..\";\r\nimport api from \"../../utils/api\";\r\nimport { TWsAnswer } from \"../../utils/types\";\r\n\r\nexport const WS_CONNECTION_START: \"WS_CONNECTION_START\" = \"WS_CONNECTION_START\";\r\nexport const WS_CONNECTION_SUCCESS: \"WS_CONNECTION_SUCCESS\" =\r\n  \"WS_CONNECTION_SUCCESS\";\r\nexport const WS_CONNECTION_ERROR: \"WS_CONNECTION_ERROR\" = \"WS_CONNECTION_ERROR\";\r\nexport const WS_CONNECTION_CLOSED: \"WS_CONNECTION_CLOSED\" =\r\n  \"WS_CONNECTION_CLOSED\";\r\n\r\nexport const WS_GET_MESSAGE: \"WS_GET_MESSAGE\" = \"WS_GET_MESSAGE\";\r\nexport const WS_SEND_MESSAGE: \"WS_SEND_MESSAGE\" = \"WS_SEND_MESSAGE\";\r\n\r\nexport const WS_AUTH_CONNECTION_SUCCESS: \"WS_AUTH_CONNECTION_SUCCESS\" =\r\n  \"WS_AUTH_CONNECTION_SUCCESS\";\r\nexport const WS_AUTH_CONNECTION_ERROR: \"WS_AUTH_CONNECTION_ERROR\" =\r\n  \"WS_AUTH_CONNECTION_ERROR\";\r\nexport const WS_AUTH_CONNECTION_GET_MESSAGE: \" WS_AUTH_CONNECTION_GET_MESSAGE\" =\r\n  \" WS_AUTH_CONNECTION_GET_MESSAGE\";\r\nexport const WS_AUTH_CONNECTION_START: \" WS_AUTH_CONNECTION_START\" =\r\n  \" WS_AUTH_CONNECTION_START\";\r\n\r\nexport const CLICK_ON_ORDER: \"CLICK_ON_ORDER\" = \"CLICK_ON_ORDER\";\r\n\r\n//   API        \r\nexport const GET_EXACT_ORDER_BY_NUMBER_REQUEST: \"GET_EXACT_ORDER_BY_NUMBER_REQUEST\" =\r\n  \"GET_EXACT_ORDER_BY_NUMBER_REQUEST\";\r\nexport const GET_EXACT_ORDER_BY_NUMBER_SUCCESS: \"GET_EXACT_ORDER_BY_NUMBER_SUCCESS\" =\r\n  \"GET_EXACT_ORDER_BY_NUMBER_SUCCESS\";\r\nexport const GET_EXACT_ORDER_BY_NUMBER_FAILD: \"GET_EXACT_ORDER_BY_NUMBER_FAILD\" =\r\n  \"GET_EXACT_ORDER_BY_NUMBER_FAILD\";\r\n\r\nexport interface IWsConnectionStart {\r\n  readonly type: typeof WS_CONNECTION_START;\r\n}\r\n\r\nexport interface IWsConnectionSuccess {\r\n  readonly type: typeof WS_CONNECTION_SUCCESS;\r\n  payload: Event;\r\n}\r\n\r\nexport interface IWsConnectionError {\r\n  readonly type: typeof WS_CONNECTION_ERROR;\r\n  payload: Event;\r\n}\r\n\r\nexport interface IWsConnectionClose {\r\n  readonly type: typeof WS_CONNECTION_CLOSED;\r\n  payload: Event;\r\n}\r\n\r\nexport interface IWsConnectionGetMessage {\r\n  readonly type: typeof WS_GET_MESSAGE;\r\n  payload: TWsAnswer;\r\n}\r\n\r\nexport interface IWsConnectionSendMessage {\r\n  readonly type: typeof WS_SEND_MESSAGE;\r\n  payload: { [key in any]: any };\r\n}\r\n\r\nexport interface IClickOnOrder {\r\n  readonly type: typeof CLICK_ON_ORDER;\r\n  payload: number;\r\n}\r\n\r\nexport interface IWsAuthConnectionStart {\r\n  readonly type: typeof WS_AUTH_CONNECTION_START;\r\n}\r\n\r\nexport interface IWsAuthConnectionSuccess {\r\n  readonly type: typeof WS_AUTH_CONNECTION_SUCCESS;\r\n  payload: Event;\r\n}\r\n\r\nexport interface IWsAuthConnectionError {\r\n  readonly type: typeof WS_AUTH_CONNECTION_ERROR;\r\n  payload: Event;\r\n}\r\n\r\nexport interface IGetOrderByNumberRequest {\r\n  readonly type: typeof GET_EXACT_ORDER_BY_NUMBER_REQUEST;\r\n}\r\n\r\nexport interface IGetOrderByNumberSuccess {\r\n  readonly type: typeof GET_EXACT_ORDER_BY_NUMBER_SUCCESS;\r\n  readonly payload: TWsAnswer;\r\n}\r\n\r\nexport interface IGetOrderByNumberFaild {\r\n  readonly type: typeof GET_EXACT_ORDER_BY_NUMBER_FAILD;\r\n}\r\n\r\nexport type TWsActions =\r\n  | IWsConnectionStart\r\n  | IWsConnectionSuccess\r\n  | IWsConnectionError\r\n  | IWsConnectionClose\r\n  | IWsConnectionGetMessage\r\n  | IWsConnectionSendMessage\r\n  | IClickOnOrder\r\n  | IWsAuthConnectionStart\r\n  | IWsAuthConnectionSuccess\r\n  | IWsAuthConnectionError\r\n  | IGetOrderByNumberRequest\r\n  | IGetOrderByNumberSuccess\r\n  | IGetOrderByNumberFaild;\r\n\r\nexport const getOrderByNumber: AppThunk = (number: number) => {\r\n  return function (dispatch: AppDispatch) {\r\n    dispatch({ type: GET_EXACT_ORDER_BY_NUMBER_REQUEST });\r\n    api\r\n      .getOrderByNumberApi(number)\r\n      .then((res) => {\r\n        dispatch({ type: GET_EXACT_ORDER_BY_NUMBER_SUCCESS, payload: res });\r\n      })\r\n      .catch((error) => {\r\n        console.log(`     . ${error}`);\r\n        dispatch({\r\n          type: GET_EXACT_ORDER_BY_NUMBER_FAILD,\r\n        });\r\n      });\r\n  };\r\n};\r\n","import {\r\n  WS_CONNECTION_START,\r\n  WS_CONNECTION_SUCCESS,\r\n  WS_CONNECTION_ERROR,\r\n  WS_CONNECTION_CLOSED,\r\n  WS_GET_MESSAGE,\r\n  WS_AUTH_CONNECTION_START,\r\n  WS_AUTH_CONNECTION_SUCCESS,\r\n  WS_AUTH_CONNECTION_ERROR,\r\n  GET_EXACT_ORDER_BY_NUMBER_SUCCESS,\r\n} from \"../actions/feedActions\";\r\nimport { TWsAnswer } from \"../../utils/types\";\r\nimport { TWsActions } from \"../actions/feedActions\";\r\n\r\ntype TdefaultFeedOrdersState = {\r\n  ordersData: TWsAnswer | null;\r\n  wsRequest: boolean;\r\n  wsConnected: boolean;\r\n  wsError: boolean;\r\n};\r\n\r\nconst defaultFeedOrdersState: TdefaultFeedOrdersState = {\r\n  ordersData: null,\r\n  wsRequest: false,\r\n  wsConnected: false,\r\n  wsError: false,\r\n};\r\n\r\nexport const feedOrdersReducer = (\r\n  state = defaultFeedOrdersState,\r\n  action: TWsActions\r\n): TdefaultFeedOrdersState => {\r\n  switch (action.type) {\r\n    case WS_CONNECTION_START:\r\n      return {\r\n        ...state,\r\n        wsRequest: true,\r\n      };\r\n    case WS_CONNECTION_SUCCESS:\r\n      return {\r\n        ...state,\r\n        wsConnected: true,\r\n        wsRequest: false,\r\n      };\r\n    case WS_CONNECTION_ERROR:\r\n      return {\r\n        ...state,\r\n        wsError: true,\r\n        wsRequest: false,\r\n      };\r\n    case WS_CONNECTION_CLOSED:\r\n      return {\r\n        ...state,\r\n        wsConnected: false,\r\n        wsRequest: false,\r\n      };\r\n    case WS_GET_MESSAGE:\r\n      return {\r\n        ...state,\r\n        ordersData: action.payload,\r\n      };\r\n    case WS_AUTH_CONNECTION_START:\r\n      return {\r\n        ...state,\r\n        wsRequest: true,\r\n      };\r\n    case WS_AUTH_CONNECTION_SUCCESS:\r\n      return {\r\n        ...state,\r\n        wsConnected: true,\r\n        wsRequest: false,\r\n      };\r\n    case WS_AUTH_CONNECTION_ERROR:\r\n      return {\r\n        ...state,\r\n        wsError: true,\r\n        wsRequest: false,\r\n      };\r\n    case GET_EXACT_ORDER_BY_NUMBER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        ordersData: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\n\r\nimport { modalReducer } from \"./modalReducer\";\r\nimport { ingredientsReducer } from \"./ingredientsReducer\";\r\nimport { orderReducer } from \"./orderReducer\";\r\nimport { constructorReducer } from \"./constructorReducer\";\r\nimport { userDataReducer } from \"./userReducer\";\r\nimport { feedOrdersReducer } from \"./feedReducer\";\r\n\r\nexport const rootReducer = combineReducers({\r\n  modal: modalReducer,\r\n  ingredients: ingredientsReducer,\r\n  order: orderReducer,\r\n  burgerConstructor: constructorReducer,\r\n  user: userDataReducer,\r\n  feed: feedOrdersReducer,\r\n});\r\n","import { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport { createStore, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { rootReducer } from \"../services/reducers/root-reducer\";\r\nimport { socketMiddleware } from \"./middleware/socket-middleware\";\r\nimport { WS_ORDERS_URL } from \"../utils/const\";\r\n\r\nimport {\r\n  WS_CONNECTION_START,\r\n  WS_CONNECTION_SUCCESS,\r\n  WS_CONNECTION_ERROR,\r\n  WS_GET_MESSAGE,\r\n  WS_CONNECTION_CLOSED,\r\n  WS_AUTH_CONNECTION_START,\r\n} from \"./actions/feedActions\";\r\n\r\nconst wsFeedActions = {\r\n  wsAllOrdersData: WS_CONNECTION_START,\r\n  wsUserOrdersData: WS_AUTH_CONNECTION_START,\r\n  onOpen: WS_CONNECTION_SUCCESS,\r\n  onClose: WS_CONNECTION_CLOSED,\r\n  onError: WS_CONNECTION_ERROR,\r\n  onMessage: WS_GET_MESSAGE,\r\n};\r\n\r\n//const enhancer = composeWithDevTools(applyMiddleware(thunk));\r\n\r\nconst enhancer = composeWithDevTools(\r\n  applyMiddleware(thunk, socketMiddleware(WS_ORDERS_URL, wsFeedActions))\r\n);\r\n\r\nconst storeState = createStore(rootReducer, enhancer);\r\n\r\nexport default storeState;\r\n","export const WS_ORDERS_URL = \"wss://norma.nomoreparties.space\";\r\n","import { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\r\nimport type { RootState, AppDispatch, AppThunk } from \"../../index\";\r\n\r\nexport const useAppDispatch = () => useDispatch<AppDispatch & AppThunk>();\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\r\n","import styles from \"./appHeaderStyles.module.css\";\r\nimport \"@ya.praktikum/react-developer-burger-ui-components/dist/ui/box.css\";\r\nimport {\r\n  BurgerIcon,\r\n  ListIcon,\r\n  Logo,\r\n  ProfileIcon,\r\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\r\n\r\nimport { NavLink, useRouteMatch } from \"react-router-dom\";\r\nimport { useAppSelector } from \"../../services/hooks/hooks\";\r\n\r\nconst AppHeader = () => {\r\n  const isConstructor = !!useRouteMatch({ path: \"/\", exact: true }); //   ,     \r\n  const isFeed = !!useRouteMatch({ path: \"/feed\" });\r\n  const isProfile = !!useRouteMatch({ path: \"/profile\" });\r\n\r\n  const { userIsAuth, userName } = useAppSelector((store) => store.user);\r\n\r\n  return (\r\n    <header className={styles.header}>\r\n      <div className={styles.container}>\r\n        <nav className={styles.nav__menu_left}>\r\n          <ul className={styles.header__list}>\r\n            <li>\r\n              <NavLink\r\n                exact\r\n                to=\"/\"\r\n                className={`pl-5 pr-5 ${styles.header__link}`}\r\n                activeClassName={styles.header__link_active}\r\n              >\r\n                <BurgerIcon type={isConstructor ? \"primary\" : \"secondary\"} />\r\n                <p className=\"text text_type_main-default ml-2\"></p>\r\n              </NavLink>\r\n            </li>\r\n            <li>\r\n              <NavLink\r\n                exact\r\n                to=\"/feed/\"\r\n                className={`pl-5 pr-5 ${styles.header__link}`}\r\n                activeClassName={styles.header__link_active}\r\n              >\r\n                <ListIcon type={isFeed ? \"primary\" : \"secondary\"} />\r\n                <p className=\"text text_type_main-default ml-2\">\r\n                   \r\n                </p>\r\n              </NavLink>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n        <NavLink to=\"/\" className={styles.logo}>\r\n          <Logo />\r\n        </NavLink>\r\n        <nav className={styles.nav__menu_right}>\r\n          <ul className={styles.header__list}>\r\n            <li>\r\n              <NavLink\r\n                to=\"/profile\"\r\n                className={`pl-5 pr-5 ${styles.header__link}`}\r\n                activeClassName={styles.header__link_active}\r\n              >\r\n                <ProfileIcon type={isProfile ? \"primary\" : \"secondary\"} />\r\n                <p className=\"text text_type_main-default ml-2\">\r\n                  {userIsAuth ? `  ${userName}` : \" \"}\r\n                </p>\r\n              </NavLink>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default AppHeader;\r\n","import { FC } from \"react\";\r\nimport { useAppSelector } from \"../../services/hooks/hooks\";\r\nimport { Redirect, Route, RouteProps } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute: FC<RouteProps> = ({ children, ...rest }) => {\r\n  const { userIsAuth } = useAppSelector((store) => store.user);\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location }) =>\r\n        userIsAuth ? (\r\n          children\r\n        ) : (\r\n          <Redirect to={{ pathname: \"/login\", state: { from: location } }} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import { forwardRef } from \"react\";\r\n\r\nimport styles from \"./ingredientElementStyles.module.css\";\r\n\r\nimport { Counter } from \"@ya.praktikum/react-developer-burger-ui-components/dist/ui/counter\";\r\nimport { CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components/dist/ui/icons/currency-icon\";\r\n\r\nimport { IBurgerIngredientElement } from \"../../../../utils/types\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { ILocation } from \"../../../../utils/types\";\r\n\r\nconst IngredientElement = forwardRef<\r\n  HTMLLIElement,\r\n  IBurgerIngredientElement & { isDragging: boolean }\r\n>(({ ingredient, openModal, isDragging, count }, ref) => {\r\n  const handleOpenModal = () => {\r\n    openModal({ modalType: \"ingredientDetail\", itemId: ingredient._id });\r\n  };\r\n\r\n  const location = useLocation<ILocation>();\r\n\r\n  return (\r\n    <li ref={ref}>\r\n      <Link\r\n        to={{\r\n          pathname: `/ingredients/${ingredient._id}`,\r\n          state: { background: location },\r\n        }}\r\n        className={\r\n          isDragging\r\n            ? `${styles.ingredient} ${styles.ingredient_dragging}`\r\n            : `${styles.ingredient}`\r\n        }\r\n        onClick={handleOpenModal}\r\n      >\r\n        <img\r\n          alt=\"  \"\r\n          src={ingredient.image}\r\n          className={styles.element_img}\r\n        />\r\n        <p className={styles.price}>\r\n          {ingredient.price}\r\n          <CurrencyIcon type=\"primary\" />\r\n        </p>\r\n        <p className=\"text text_type_main-default\">{ingredient.name}</p>\r\n        {count !== 0 && <Counter size=\"default\" count={count} />}\r\n      </Link>\r\n    </li>\r\n  );\r\n});\r\n\r\nexport default IngredientElement;\r\n","import { FC } from \"react\";\r\nimport { useDrag } from \"react-dnd\";\r\n\r\nimport IngredientElement from \"../ingredient-element/ingredientElement\";\r\n\r\nimport { IBurgerIngredientElement } from \"../../../../utils/types\";\r\n\r\nconst IngredientElementDndWrapper: FC<IBurgerIngredientElement> = ({\r\n  ingredient,\r\n  openModal,\r\n  count,\r\n}) => {\r\n  const [{ isDrag }, dragRef] = useDrag({\r\n    type: \"ingredient\",\r\n    item: { ingredient },\r\n    collect: (monitor) => ({\r\n      isDrag: monitor.isDragging(),\r\n    }),\r\n  });\r\n\r\n  return (\r\n    <IngredientElement\r\n      ingredient={ingredient}\r\n      openModal={openModal}\r\n      isDragging={isDrag}\r\n      ref={dragRef}\r\n      count={count}\r\n    />\r\n  );\r\n};\r\n\r\nexport default IngredientElementDndWrapper;\r\n","import { forwardRef } from \"react\";\r\n\r\nimport styles from \"./ingredientGroupStyles.module.css\";\r\nimport IngredientElementDndWrapper from \"../ingredients-dnd-wrapper/ingredient-dnd-wrapper\";\r\n\r\nimport { IIngredient } from \"../../../../utils/types\";\r\n\r\nimport { IIngredientsGroup } from \"../../../../utils/types\";\r\n\r\nconst IngredientGroup = forwardRef<HTMLLIElement, IIngredientsGroup>(\r\n  ({ groupName, groupElements, openModal, count }, ref) => {\r\n    return (\r\n      <li ref={ref}>\r\n        <div className=\"mt-10 mb-6\">\r\n          <p className=\"text text_type_main-medium\">{groupName}</p>\r\n        </div>\r\n        <ul className={`${styles.content}`}>\r\n          {groupElements.map((burgerItem: IIngredient) => (\r\n            <IngredientElementDndWrapper\r\n              key={burgerItem._id}\r\n              ingredient={burgerItem}\r\n              openModal={openModal}\r\n              count={count[burgerItem._id]}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </li>\r\n    );\r\n  }\r\n);\r\n\r\nexport default IngredientGroup;\r\n","import React, { FC } from \"react\";\r\nimport { useState, useRef, useMemo, useCallback } from \"react\";\r\n\r\nimport { useAppSelector } from \"../../services/hooks/hooks\";\r\n\r\nimport { Tab } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport IngredientGroup from \"./components/ingredient-group/ingredientGroup\";\r\n\r\nimport styles from \"./burgerIngredientsStyles.module.css\";\r\nimport \"@ya.praktikum/react-developer-burger-ui-components/dist/ui/box.css\";\r\n\r\nimport { IBurgerIngredients, IIngredient } from \"../../utils/types\";\r\n\r\nconst BurgerIngredients: FC<IBurgerIngredients> = ({ openModal }) => {\r\n  const { ingredientsDataFromServer } = useAppSelector(\r\n    (store) => store.ingredients\r\n  );\r\n\r\n  const { droppedIngredients, droppedBun } = useAppSelector(\r\n    ({ burgerConstructor: { droppedIngredients, droppedBun } }) => {\r\n      return { droppedIngredients, droppedBun };\r\n    }\r\n  );\r\n\r\n  //     \r\n\r\n  const buns = useMemo(\r\n    () =>\r\n      ingredientsDataFromServer.filter(\r\n        (ingredient) => ingredient.type === \"bun\"\r\n      ),\r\n    [ingredientsDataFromServer]\r\n  );\r\n  const sauces = useMemo(\r\n    () =>\r\n      ingredientsDataFromServer.filter(\r\n        (ingredient) => ingredient.type === \"sauce\"\r\n      ),\r\n    [ingredientsDataFromServer]\r\n  );\r\n  const mains = useMemo(\r\n    () =>\r\n      ingredientsDataFromServer.filter(\r\n        (ingredient) => ingredient.type === \"main\"\r\n      ),\r\n    [ingredientsDataFromServer]\r\n  );\r\n\r\n  //   \r\n  const bunRef = useRef<HTMLLIElement>(null);\r\n  const sauceRef = useRef<HTMLLIElement>(null);\r\n  const mainRef = useRef<HTMLLIElement>(null);\r\n\r\n  const [currentTab, setCurrentTab] = useState(\"buns\");\r\n\r\n  const handleTabClick = useCallback(\r\n    ({ tab, ref }) =>\r\n      () => {\r\n        setCurrentTab(tab);\r\n        ref.current.scrollIntoView({ behavior: \"smooth\" });\r\n      },\r\n    [setCurrentTab]\r\n  );\r\n\r\n  const handleIngredientListScroll = (\r\n    event: React.UIEvent<HTMLUListElement>\r\n  ) => {\r\n    const scrollContainer = event.target as HTMLUListElement;\r\n    const scrollPosition = scrollContainer.scrollTop;\r\n    if (!sauceRef.current || !mainRef.current) {\r\n      return;\r\n    }\r\n    const sauceTabPosition = sauceRef.current.offsetTop;\r\n    const mainTabPosition = mainRef.current.offsetTop;\r\n    const scrollSetup = 400;\r\n    if (scrollPosition + scrollSetup <= sauceTabPosition) {\r\n      setCurrentTab(\"buns\");\r\n    } else if (scrollPosition + scrollSetup <= mainTabPosition) {\r\n      setCurrentTab(\"sauses\");\r\n    } else {\r\n      setCurrentTab(\"mains\");\r\n    }\r\n  };\r\n  //    \r\n  const ingredientCounter = useMemo(() => {\r\n    return ingredientsDataFromServer.reduce((result, ingredient) => {\r\n      if (ingredient.type === \"bun\") {\r\n        return {\r\n          ...result,\r\n          [ingredient._id]:\r\n            droppedBun && ingredient._id === droppedBun._id ? 1 : 0,\r\n        };\r\n      }\r\n      return {\r\n        ...result,\r\n        [ingredient._id]: droppedIngredients.filter(\r\n          (droppedIngredient: IIngredient) =>\r\n            droppedIngredient._id === ingredient._id\r\n        ).length,\r\n      };\r\n    }, {});\r\n  }, [ingredientsDataFromServer, droppedIngredients, droppedBun]);\r\n\r\n  return (\r\n    <section className={`${styles.burger_ingredients} pt-10`}>\r\n      <h1 className=\"text text_type_main-large\"> </h1>\r\n      <div className={`${styles.burger_menu_tab} mt-5 mb-10`}>\r\n        <Tab\r\n          value=\"buns\"\r\n          active={currentTab === \"buns\"}\r\n          onClick={handleTabClick({\r\n            tab: currentTab,\r\n            ref: bunRef,\r\n          })}\r\n        >\r\n          \r\n        </Tab>\r\n        <Tab\r\n          value=\"sauses\"\r\n          active={currentTab === \"sauses\"}\r\n          onClick={handleTabClick({\r\n            tab: currentTab,\r\n            ref: sauceRef,\r\n          })}\r\n        >\r\n          \r\n        </Tab>\r\n        <Tab\r\n          value=\"mains\"\r\n          active={currentTab === \"mains\"}\r\n          onClick={handleTabClick({\r\n            tab: currentTab,\r\n            ref: mainRef,\r\n          })}\r\n        >\r\n          \r\n        </Tab>\r\n      </div>\r\n      <ul\r\n        className={`${styles.burger_list_container} pt-25`}\r\n        onScroll={handleIngredientListScroll}\r\n      >\r\n        <IngredientGroup\r\n          groupName={\"\"}\r\n          groupElements={buns}\r\n          ref={bunRef}\r\n          openModal={openModal}\r\n          count={ingredientCounter}\r\n        />\r\n\r\n        <IngredientGroup\r\n          groupName={\"\"}\r\n          groupElements={sauces}\r\n          ref={sauceRef}\r\n          openModal={openModal}\r\n          count={ingredientCounter}\r\n        />\r\n\r\n        <IngredientGroup\r\n          groupName={\"\"}\r\n          groupElements={mains}\r\n          ref={mainRef}\r\n          openModal={openModal}\r\n          count={ingredientCounter}\r\n        />\r\n      </ul>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default BurgerIngredients;\r\n","import { FC } from \"react\";\r\nimport styles from \"./ingredientMoldStyles.module.css\";\r\n\r\nimport { IIngredientsMold } from \"../../../../utils/types\";\r\n\r\nconst IngredientsMold: FC<IIngredientsMold> = ({ children }) => {\r\n  return <div className={`${styles.container}`}>{children}</div>;\r\n};\r\n\r\nexport default IngredientsMold;\r\n","import { FC } from \"react\";\r\nimport styles from \"./bunMoldStyles.module.css\";\r\n\r\nimport { IBunMold } from \"../../../../utils/types\";\r\n\r\nconst BunMold: FC<IBunMold> = ({ children, position, background }) => {\r\n  return (\r\n    <div\r\n      className={`${\r\n        position === \"top\"\r\n          ? `${styles.mold} ${styles.mold_position_top}`\r\n          : position === \"bottom\"\r\n          ? `${styles.mold} ${styles.mold_position_bottom}`\r\n          : `${styles.mold}`\r\n      }`}\r\n      style={{ background: `${background}` }}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BunMold;\r\n","import { forwardRef, useCallback } from \"react\";\r\n\r\nimport styles from \"./burgerConstructorElementStyles.module.css\";\r\n\r\nimport {\r\n  DragIcon,\r\n  ConstructorElement,\r\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\r\n\r\nimport { IBurgerConstructorElement } from \"../../../../utils/types\";\r\n\r\nconst BurgerConstructorElement = forwardRef<\r\n  HTMLLIElement,\r\n  IBurgerConstructorElement\r\n>(({ ingredient, index, handleDeleteIngredient }, ref) => {\r\n  const handleDelete = useCallback(\r\n    () => handleDeleteIngredient(index),\r\n    [handleDeleteIngredient, index]\r\n  );\r\n\r\n  return (\r\n    <li ref={ref} className={styles.container_wrapper}>\r\n      <div className={styles.container__dragIcon}>\r\n        <DragIcon type=\"primary\" />\r\n      </div>\r\n      <ConstructorElement\r\n        text={ingredient.name}\r\n        price={ingredient.price}\r\n        thumbnail={ingredient.image}\r\n        handleClose={handleDelete}\r\n      />\r\n    </li>\r\n  );\r\n});\r\n\r\nexport default BurgerConstructorElement;\r\n","import { FC, useRef, useEffect } from \"react\";\r\nimport { useDrag, useDrop } from \"react-dnd\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport { reorderConstructorIngredient } from \"../../../../services/actions/constructorActions\";\r\nimport BurgerConstructorElement from \"../burger-constructor-element/burgerConstructorElement\";\r\n\r\nimport { IBurgerConstructorElement } from \"../../../../utils/types\";\r\n\r\nconst BurgerConstructorElementDndWrapper: FC<IBurgerConstructorElement> = ({\r\n  ingredient,\r\n  index,\r\n  handleDeleteIngredient,\r\n}) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const ref = useRef(null);\r\n\r\n  const [, dragRef] = useDrag({\r\n    type: \"burger-constructor-element\",\r\n    item: { draggedElementIndex: index },\r\n    collect: (monitor) => ({\r\n      isDrag: monitor.isDragging(),\r\n    }),\r\n  });\r\n\r\n  const [, dropTarget] = useDrop({\r\n    accept: \"burger-constructor-element\",\r\n    drop(item: { draggedElementIndex: number }) {\r\n      dispatch(reorderConstructorIngredient(item.draggedElementIndex, index));\r\n    },\r\n    collect: (monitor) => ({\r\n      isHover: monitor.isOver(),\r\n    }),\r\n  });\r\n\r\n  useEffect(\r\n    function () {\r\n      dragRef(dropTarget(ref));\r\n    },\r\n    [dragRef, dropTarget]\r\n  );\r\n\r\n  return (\r\n    <BurgerConstructorElement\r\n      ingredient={ingredient}\r\n      ref={ref}\r\n      index={index}\r\n      handleDeleteIngredient={handleDeleteIngredient}\r\n    />\r\n  );\r\n};\r\n\r\nexport default BurgerConstructorElementDndWrapper;\r\n","//import { useSelector, useDispatch } from \"react-redux\";\r\nimport { forwardRef, useCallback, useMemo, useState } from \"react\";\r\nimport { useAppDispatch, useAppSelector } from \"../../services/hooks/hooks\";\r\n\r\nimport {\r\n  ConstructorElement,\r\n  Button,\r\n  CurrencyIcon,\r\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\r\n\r\nimport styles from \"./burgerConstructorDndStyles.module.css\";\r\n\r\nimport IngredientsMold from \"./components/ingredients-mold/ingredientsMold\";\r\nimport BunMold from \"./components/bun-mold/bunMold\";\r\nimport BurgerConstructorElementDndWrapper from \"./components/burger-constructor-element-dnd-wrapper/burgerConstructorElementDndWrapper\";\r\n\r\nimport { getOrderNumberApi } from \"../../services/actions/orderActions\";\r\n\r\nimport { deleteIngredient } from \"../../services/actions/constructorActions\";\r\n\r\nimport { IBurgerConstructor } from \"../../utils/types\";\r\n\r\nimport { IIngredient } from \"../../utils/types\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst BurgerConstructorDnd = forwardRef<HTMLUListElement, IBurgerConstructor>(\r\n  ({ openModal }, ref) => {\r\n    const dispatch = useAppDispatch();\r\n    const history = useHistory();\r\n    const { userIsAuth } = useAppSelector((store) => store.user);\r\n\r\n    const { droppedIngredients, droppedBun } = useAppSelector(\r\n      (store) => store.burgerConstructor\r\n    );\r\n\r\n    const totalPrice = useMemo(\r\n      () =>\r\n        droppedIngredients.reduce(\r\n          (price: number, ingredient: IIngredient) => price + ingredient.price,\r\n          droppedBun ? droppedBun.price * 2 : 0\r\n        ),\r\n      [droppedIngredients, droppedBun]\r\n    );\r\n\r\n    const [bunMoldBackColor, setbunMoldBackColor] = useState(\"transparent\");\r\n\r\n    const handleSubmit = () => {\r\n      if (!droppedBun) {\r\n        setbunMoldBackColor(\"var(--colors-interface-accent)\");\r\n        setTimeout(() => {\r\n          setbunMoldBackColor(\"transparent\");\r\n        }, 300);\r\n        return;\r\n      } else {\r\n        //console.log(\"droppedBun\", droppedBun);\r\n        //      \r\n        const constructorIngredients = droppedIngredients\r\n          .concat(droppedBun)\r\n          .concat(droppedBun);\r\n        const orderIngredientList = constructorIngredients.map(\r\n          (el: IIngredient) => el._id\r\n        );\r\n        //console.log(\"constructorIngredients\", constructorIngredients);\r\n        //console.log(\"orderIngredientList\", orderIngredientList);\r\n        dispatch(getOrderNumberApi(orderIngredientList));\r\n        openModal({ modalType: \"orderDetail\" });\r\n      }\r\n    };\r\n\r\n    const handleDeleteIngredient = useCallback(\r\n      (indexToDelete) => {\r\n        //console.log(\"delete\");\r\n        dispatch(deleteIngredient(indexToDelete));\r\n      },\r\n      [dispatch]\r\n    );\r\n\r\n    const handleSignIn = useCallback(() => {\r\n      history.replace({ pathname: \"/login\" });\r\n    }, [history]);\r\n\r\n    return (\r\n      <section\r\n        className={`${styles.main_container} pt-25`}\r\n        ari-label=\" \"\r\n      >\r\n        <ul className={styles.ingredients_list} ref={ref}>\r\n          <li className={`${styles.ingredient} ${styles.top_container}`}>\r\n            {!droppedBun ? (\r\n              <BunMold position=\"top\" background={bunMoldBackColor}>\r\n                  ()\r\n              </BunMold>\r\n            ) : (\r\n              <ConstructorElement\r\n                type=\"top\"\r\n                isLocked\r\n                text={`${droppedBun.name} ()`}\r\n                price={droppedBun.price}\r\n                thumbnail={droppedBun.image}\r\n              />\r\n            )}\r\n          </li>\r\n          <li className={styles.ingredient}>\r\n            {droppedIngredients.length === 0 ? (\r\n              <IngredientsMold>   </IngredientsMold>\r\n            ) : (\r\n              <ul className={styles.constructor_container}>\r\n                {droppedIngredients\r\n                  ? droppedIngredients.map(\r\n                      (ingredient: IIngredient, index: number) => {\r\n                        return (\r\n                          <BurgerConstructorElementDndWrapper\r\n                            ingredient={ingredient}\r\n                            key={ingredient.uid}\r\n                            index={index}\r\n                            handleDeleteIngredient={handleDeleteIngredient}\r\n                          />\r\n                        );\r\n                      }\r\n                    )\r\n                  : null}\r\n              </ul>\r\n            )}\r\n          </li>\r\n          <li className={`${styles.ingredient} ${styles.bottom_container}`}>\r\n            {!droppedBun ? (\r\n              <BunMold position=\"bottom\" background={bunMoldBackColor}>\r\n                  ()\r\n              </BunMold>\r\n            ) : (\r\n              <ConstructorElement\r\n                type=\"bottom\"\r\n                isLocked\r\n                text={`${droppedBun.name} ()`}\r\n                price={droppedBun.price}\r\n                thumbnail={droppedBun.image}\r\n              />\r\n            )}\r\n          </li>\r\n        </ul>\r\n        <div className={styles.outcome}>\r\n          <div className={styles.price}>\r\n            <p className=\"text text_type_digits-medium mr-2\">{totalPrice}</p>\r\n            <CurrencyIcon type=\"primary\" />\r\n          </div>\r\n          <Button\r\n            type=\"primary\"\r\n            size=\"large\"\r\n            onClick={userIsAuth ? handleSubmit : handleSignIn}\r\n          >\r\n            {userIsAuth ? \" \" : \"\"}\r\n          </Button>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n);\r\n\r\nexport default BurgerConstructorDnd;\r\n","import { FC } from \"react\";\r\nimport { useDrop } from \"react-dnd\";\r\n\r\nimport { useAppDispatch } from \"../../../../services/hooks/hooks\";\r\n\r\nimport BurgerConstructorDnd from \"../../burgerConstructorDnd\";\r\n\r\nimport { dropSelectedIngredient } from \"../../../../services/actions/constructorActions\";\r\nimport { IBurgerConstructorDnDWrapper } from \"../../../../utils/types\";\r\nimport { TDetailIngredient } from \"../../../../utils/types\";\r\n\r\nconst BurgerConstructorDndWrapper: FC<IBurgerConstructorDnDWrapper> = ({\r\n  openModal,\r\n}) => {\r\n  const dispatch = useAppDispatch();\r\n  const [, dropTarget] = useDrop({\r\n    accept: \"ingredient\",\r\n    drop({ ingredient }: TDetailIngredient) {\r\n      dispatch(dropSelectedIngredient(ingredient));\r\n    },\r\n    collect: (monitor) => ({\r\n      isHover: monitor.isOver(),\r\n    }),\r\n  });\r\n\r\n  return <BurgerConstructorDnd openModal={openModal} ref={dropTarget} />;\r\n};\r\n\r\nexport default BurgerConstructorDndWrapper;\r\n","import { FC } from \"react\";\r\n\r\nimport styles from \"./modalOverlay.module.css\";\r\n\r\nimport { TOverlayCloseModal } from \"../../../utils/types\";\r\n\r\nconst ModalOverlay: FC<TOverlayCloseModal> = ({ closeModal, children }) => {\r\n  return (\r\n    <div className={styles.overlay} onClick={closeModal}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModalOverlay;\r\n","import { FC } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport styles from \"./modal.module.css\";\r\nimport { CloseIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport ModalOverlay from \"./modal-overlay/modalOverlay\";\r\nimport { TCloseModal } from \"../../utils/types\";\r\n\r\nconst Modal: FC<TCloseModal> = ({ closeModal, children }) => {\r\n  const modalRoot = document.getElementById(\"modal-root\");\r\n\r\n  useEffect(() => {\r\n    const onEscPress = (evt: KeyboardEvent) => {\r\n      if (evt.key === \"Escape\") {\r\n        evt.preventDefault();\r\n        closeModal();\r\n      }\r\n    };\r\n    document.addEventListener(\"keydown\", onEscPress);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", onEscPress);\r\n    };\r\n  }, [closeModal]);\r\n\r\n  const onOverlayClick = (evt: any) => {\r\n    if (evt.target === evt.currentTarget) {\r\n      //     ,     \r\n      closeModal();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <>\r\n      <ModalOverlay closeModal={onOverlayClick}>\r\n        <div className={styles.modal}>\r\n          <div className={styles.modal_closebtn}>\r\n            <CloseIcon type=\"primary\" onClick={closeModal} />\r\n          </div>\r\n          {children}\r\n        </div>\r\n      </ModalOverlay>\r\n    </>,\r\n    modalRoot!\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","export default __webpack_public_path__ + \"static/media/doneImg.2022ce2b.svg\";","import styles from \"./loader.module.css\";\r\nimport { FC } from \"react\";\r\n\r\nconst Loader: FC = () => {\r\n  return (\r\n    <div className={`${styles.loader__container} pt-30 pb-25`}>\r\n      <div className={`${styles.loader}`}></div>\r\n      <span className={`${styles.loader__span}`}>...</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import doneImg from \"../../image/doneImg.svg\";\r\n\r\nimport styles from \"./orderDetails.module.css\";\r\n\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport Loader from \"../loader/loader\";\r\n\r\nfunction OrderDetails() {\r\n  const { orderId, isOrderInfoLoading, isOrderInfoRequestFaild } = useSelector(\r\n    (store) => store.order\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {isOrderInfoLoading && <Loader />}\r\n      {!isOrderInfoLoading && !isOrderInfoRequestFaild && orderId && (\r\n        <div className={`${styles.container} pt-30 pb-25`}>\r\n          <div className=\"mb-8\">\r\n            <p className={`${styles.glow} text text_type_digits-large`}>\r\n              {orderId.order.number}\r\n            </p>\r\n          </div>\r\n          <p className=\"text text_type_main-medium\"> </p>\r\n          <img\r\n            className={`${styles.icon} mb-15 mt-15`}\r\n            alt=\" \"\r\n            src={doneImg}\r\n          />\r\n          <p className=\"text text_type_main-default\">\r\n               \r\n          </p>\r\n          <div className=\"mt-2\">\r\n            <p className=\"text text_type_main-default text_color_inactive\">\r\n                  \r\n            </p>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default OrderDetails;\r\n","import styles from \"./errorMessage.module.css\";\r\nimport { FC } from \"react\";\r\n\r\nconst ErrorMessage: FC = ({ children }) => {\r\n  return (\r\n    <div className={styles.errorMessage__container}>\r\n      <h1 className={`text text_type_main-large ${styles.errorMessage__title}`}>\r\n         \r\n      </h1>\r\n      <p className={`text text_type_main-medium ${styles.errorMessage__text}`}>\r\n        {children}\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ErrorMessage;\r\n","import { FC } from \"react\";\r\n\r\nimport { useAppSelector } from \"../../services/hooks/hooks\";\r\nimport { useAppDispatch } from \"../../services/hooks/hooks\";\r\n\r\nimport { DndProvider } from \"react-dnd\";\r\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\r\n\r\nimport styles from \"./homeStyle.module.css\";\r\n\r\nimport BurgerIngredients from \"../../components/burger-ingredients/burgerIngredients\";\r\nimport BurgerConstructorDndWrapper from \"../../components/burger-constructor/components/burger-constructor-dnd-wrapper/burger-constructor-dnd-wrapper\";\r\nimport Modal from \"../../components/modal/modal\";\r\nimport OrderDetails from \"../../components/order-details/orderDetails\";\r\nimport Loader from \"../../components/loader/loader\";\r\n\r\nimport {\r\n  closeModal,\r\n  openModalOrder,\r\n  openModalIngredient,\r\n} from \"../../services/actions/modalActions\";\r\n\r\nimport { clearOrderList } from \"../../services/actions/constructorActions\";\r\nimport { IIngredient } from \"../../utils/types\";\r\nimport { TOpenModal } from \"../../utils/types\";\r\nimport ErrorMessage from \"../../components/error-message/error-message\";\r\n\r\nconst HomePage: FC = () => {\r\n  const dispatch = useAppDispatch();\r\n\r\n  const {\r\n    ingredientsApiRequest,\r\n    ingredientsApiFailed,\r\n    ingredientsDataFromServer,\r\n  } = useAppSelector((store) => store.ingredients);\r\n\r\n  const { isOrderDetailModalVisible } = useAppSelector((store) => store.modal);\r\n\r\n  function openModal({ modalType, itemId }: TOpenModal) {\r\n    if (modalType === \"ingredientDetail\") {\r\n      const ingredient = ingredientsDataFromServer.find(\r\n        (item: IIngredient) => item._id === itemId\r\n      );\r\n      dispatch(openModalIngredient(ingredient));\r\n    } else {\r\n      if (modalType === \"orderDetail\") {\r\n        dispatch(openModalOrder());\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleOrderModalClose = () => {\r\n    dispatch(closeModal());\r\n    dispatch(clearOrderList());\r\n  };\r\n\r\n  //___________________________________________render______________________________________________\r\n  return (\r\n    <div className={styles.app}>\r\n      {ingredientsApiRequest && <Loader />}\r\n      {ingredientsApiFailed && (\r\n        <ErrorMessage>\r\n            . ,   \r\n        </ErrorMessage>\r\n      )}\r\n      <DndProvider backend={HTML5Backend}>\r\n        {!ingredientsApiRequest &&\r\n          !ingredientsApiFailed &&\r\n          ingredientsDataFromServer.length && (\r\n            <main className={styles.content}>\r\n              <BurgerIngredients openModal={openModal} />\r\n              <BurgerConstructorDndWrapper openModal={openModal} />\r\n            </main>\r\n          )}\r\n      </DndProvider>\r\n      {/*     .   ..*/}\r\n      {isOrderDetailModalVisible && (\r\n        <Modal closeModal={handleOrderModalClose}>\r\n          <OrderDetails />\r\n        </Modal>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n","import { FC } from \"react\";\r\n\r\nimport styles from \"./appFormStyles.module.css\";\r\nimport { IAppForm } from \"../../utils/types\";\r\n\r\nconst AppForm: FC<IAppForm> = ({ children, title, onSubmit }) => {\r\n  return (\r\n    <form className={styles.form} onSubmit={onSubmit}>\r\n      <div className={`mb-6`}>\r\n        <p className={`text text_type_main-medium ${styles.title}`}>{title}</p>\r\n      </div>\r\n      {children}\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default AppForm;\r\n","import { FC } from \"react\";\r\nimport { Button } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport styles from \"./appFormSubmitStyles.module.css\";\r\n\r\nimport { IAppFormSubmit } from \"../../utils/types\";\r\n\r\nconst AppFormSubmit: FC<IAppFormSubmit> = ({ children }) => {\r\n  return (\r\n    <div className={`${styles.wrapper} mb-20`}>\r\n      <Button>{children}</Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AppFormSubmit;\r\n","import { FC } from \"react\";\r\nimport styles from \"./formInputWrapperStyles.module.css\";\r\n\r\nconst FormInputWrapper: FC = ({ children }) => {\r\n  return <div className={`mb-6 ${styles.formwrapper}`}>{children}</div>;\r\n};\r\n\r\nexport default FormInputWrapper;\r\n","import { FC } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styles from \"./formCaptionStyles.module.css\";\r\n\r\nimport { IFormCaption } from \"../../utils/types\";\r\n\r\nconst FormCaption: FC<IFormCaption> = ({ children, linkCaption, link }) => {\r\n  return (\r\n    <p\r\n      className={`text text_type_main-defaut text_color_inactive ${styles.caption}`}\r\n    >\r\n      {`${children}`}\r\n      <Link to={link} className={`text text_type_main-default ${styles.link}`}>\r\n        {linkCaption}\r\n      </Link>\r\n    </p>\r\n  );\r\n};\r\n\r\nexport default FormCaption;\r\n","import React, { FC, useCallback } from \"react\";\r\nimport { useState } from \"react\";\r\n\r\nimport AppForm from \"../../components/app-form/appForm\";\r\nimport AppFormSubmit from \"../../components/app-form-submit/appFormSubmit\";\r\nimport FormInputWrapper from \"../../components/form-input-wrapper/formInputWrapper\";\r\nimport FormCaption from \"../../components/form-caption/formCaption\";\r\n\r\nimport {\r\n  Input,\r\n  PasswordInput,\r\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport { useAppDispatch, useAppSelector } from \"../../services/hooks/hooks\";\r\nimport { loginUser } from \"../../services/actions/userActions\";\r\nimport { Redirect, useHistory } from \"react-router-dom\";\r\n\r\nconst LoginPage: FC = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { userIsAuth } = useAppSelector((store) => store.user);\r\n\r\n  const history = useHistory();\r\n  const { state }: any = history.location;\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const handleSubmitOnSignInForm = useCallback(\r\n    (evt: React.SyntheticEvent) => {\r\n      evt.preventDefault();\r\n      dispatch(loginUser(email, password));\r\n    },\r\n    [dispatch, email, password]\r\n  );\r\n\r\n  if (userIsAuth) {\r\n    return <Redirect to={state?.from || \"/\"} />;\r\n  }\r\n\r\n  return (\r\n    <AppForm title=\"\" onSubmit={handleSubmitOnSignInForm}>\r\n      <FormInputWrapper>\r\n        <Input\r\n          name=\"email\"\r\n          value={email}\r\n          type=\"text\"\r\n          placeholder=\"E-mail\"\r\n          errorText=\"   e-mail\"\r\n          onChange={(evt) => setEmail(evt.target.value)}\r\n        />\r\n      </FormInputWrapper>\r\n      <FormInputWrapper>\r\n        <PasswordInput\r\n          name=\"password\"\r\n          value={password}\r\n          onChange={(evt) => setPassword(evt.target.value)}\r\n        />\r\n      </FormInputWrapper>\r\n      <AppFormSubmit></AppFormSubmit>\r\n      <FormCaption linkCaption=\" \" link=\"/register\">\r\n         -  ?\r\n      </FormCaption>\r\n      <div className=\"mt-4\">\r\n        <FormCaption linkCaption=\"  \" link=\"/forgot-password\">\r\n           ?\r\n        </FormCaption>\r\n      </div>\r\n    </AppForm>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n","import React, { FC, useCallback } from \"react\";\r\nimport { useState } from \"react\";\r\n\r\nimport AppForm from \"../../components/app-form/appForm\";\r\nimport AppFormSubmit from \"../../components/app-form-submit/appFormSubmit\";\r\nimport FormInputWrapper from \"../../components/form-input-wrapper/formInputWrapper\";\r\nimport FormCaption from \"../../components/form-caption/formCaption\";\r\n\r\nimport {\r\n  Input,\r\n  PasswordInput,\r\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\r\n\r\nimport { useAppDispatch, useAppSelector } from \"../../services/hooks/hooks\";\r\n\r\nimport { registerNewUser } from \"../../services/actions/userActions\";\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst RegisterPage: FC = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { userIsAuth } = useAppSelector((store) => store.user);\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  //const accessToken = getCookie(\"token\");\r\n\r\n  const handleSubmitOnRegistrationForm = useCallback(\r\n    (evt: React.SyntheticEvent) => {\r\n      evt.preventDefault();\r\n      dispatch(registerNewUser(email, password, name));\r\n    },\r\n    [dispatch, email, password, name]\r\n  );\r\n\r\n  if (userIsAuth) {\r\n    return <Redirect to={{ pathname: \"/\" }} />;\r\n  }\r\n\r\n  return (\r\n    <AppForm title=\"\" onSubmit={handleSubmitOnRegistrationForm}>\r\n      <FormInputWrapper>\r\n        <Input\r\n          name=\"name\"\r\n          value={name}\r\n          type=\"text\"\r\n          placeholder=\"\"\r\n          errorText=\"\"\r\n          onChange={(evt) => setName(evt.target.value)}\r\n        />\r\n      </FormInputWrapper>\r\n      <FormInputWrapper>\r\n        <Input\r\n          name=\"email\"\r\n          value={email}\r\n          type=\"text\"\r\n          placeholder=\"E-mail\"\r\n          errorText=\"   e-mail\"\r\n          onChange={(evt) => setEmail(evt.target.value)}\r\n        />\r\n      </FormInputWrapper>\r\n      <FormInputWrapper>\r\n        <PasswordInput\r\n          name=\"password\"\r\n          value={password}\r\n          onChange={(evt) => setPassword(evt.target.value)}\r\n        />\r\n      </FormInputWrapper>\r\n      <AppFormSubmit></AppFormSubmit>\r\n      <FormCaption linkCaption=\" \" link=\"/login\">\r\n         ?\r\n      </FormCaption>\r\n    </AppForm>\r\n  );\r\n};\r\n\r\nexport default RegisterPage;\r\n","import React, { FC, useCallback, useState } from \"react\";\r\nimport { Redirect, useHistory } from \"react-router-dom\";\r\nimport { Input } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\n\r\nimport AppForm from \"../../components/app-form/appForm\";\r\nimport AppFormSubmit from \"../../components/app-form-submit/appFormSubmit\";\r\nimport FormInputWrapper from \"../../components/form-input-wrapper/formInputWrapper\";\r\nimport FormCaption from \"../../components/form-caption/formCaption\";\r\nimport { useAppDispatch, useAppSelector } from \"../../services/hooks/hooks\";\r\nimport { getRemindUserPassword } from \"../../services/actions/userActions\";\r\n\r\nimport { getCookie } from \"../../utils/cookies\";\r\n\r\nconst ForgotPswPage: FC = () => {\r\n  const dispatch = useAppDispatch();\r\n  const history = useHistory();\r\n  const { historyState }: any = history.location;\r\n  const [email, setEmail] = useState(\"\");\r\n  const { userIsAuth, resetPswResult } = useAppSelector((store) => store.user);\r\n\r\n  const handleResetPswSubmit = useCallback(\r\n    (evt: React.SyntheticEvent) => {\r\n      //alert(\"\");\r\n      evt.preventDefault();\r\n      const accessToken = getCookie(\"accessToken\");\r\n      console.log(\"accessToken\", accessToken);\r\n      dispatch(getRemindUserPassword(email, accessToken));\r\n    },\r\n    [dispatch, email]\r\n  );\r\n\r\n  if (userIsAuth) {\r\n    return <Redirect to={historyState?.from || \"/\"} />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {resetPswResult && <Redirect to=\"/reset-password\" />}\r\n      <AppForm title=\" \" onSubmit={handleResetPswSubmit}>\r\n        <FormInputWrapper>\r\n          <Input\r\n            name=\"email\"\r\n            value={email}\r\n            onChange={(evt) => setEmail(evt.target.value)}\r\n            type=\"text\"\r\n            placeholder=\" e-mail\"\r\n            error={false}\r\n            errorText=\"\"\r\n          />\r\n        </FormInputWrapper>\r\n        <AppFormSubmit></AppFormSubmit>\r\n        <FormCaption linkCaption=\" \" link=\"/login\">\r\n           ?\r\n        </FormCaption>\r\n      </AppForm>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ForgotPswPage;\r\n","import React, { FC, useCallback, useState } from \"react\";\r\nimport { Redirect, useHistory } from \"react-router-dom\";\r\nimport {\r\n  Input,\r\n  PasswordInput,\r\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\r\n\r\nimport AppForm from \"../../components/app-form/appForm\";\r\nimport AppFormSubmit from \"../../components/app-form-submit/appFormSubmit\";\r\nimport FormInputWrapper from \"../../components/form-input-wrapper/formInputWrapper\";\r\nimport FormCaption from \"../../components/form-caption/formCaption\";\r\nimport { useAppDispatch, useAppSelector } from \"../../services/hooks/hooks\";\r\nimport { setUserNewPassword } from \"../../services/actions/userActions\";\r\n\r\nconst ResetPswPage: FC = () => {\r\n  const dispatch = useAppDispatch();\r\n  const [password, setPassword] = useState(\"\");\r\n  const [tokenValue, setTokenValue] = useState(\"\");\r\n\r\n  const { userIsAuth, resetPswResult } = useAppSelector((store) => store.user);\r\n\r\n  const history = useHistory();\r\n  const { historyState }: any = history.location;\r\n\r\n  const handleSaveNewPswSubmit = useCallback(\r\n    (evt: React.SyntheticEvent) => {\r\n      evt.preventDefault();\r\n      dispatch(setUserNewPassword(password, tokenValue));\r\n    },\r\n    [dispatch, password, tokenValue]\r\n  );\r\n\r\n  if (userIsAuth || !resetPswResult) {\r\n    return <Redirect to={historyState?.from || \"/\"} />;\r\n  }\r\n\r\n  return (\r\n    <AppForm title=\" \" onSubmit={handleSaveNewPswSubmit}>\r\n      <FormInputWrapper>\r\n        <PasswordInput\r\n          name=\"password\"\r\n          value={password}\r\n          onChange={(evt) => setPassword(evt.target.value)}\r\n        />\r\n      </FormInputWrapper>\r\n      <FormInputWrapper>\r\n        <Input\r\n          name=\"code\"\r\n          value={tokenValue}\r\n          onChange={(evt) => setTokenValue(evt.target.value)}\r\n          type=\"text\"\r\n          placeholder=\"   \"\r\n          error={false}\r\n          errorText=\"\"\r\n        />\r\n      </FormInputWrapper>\r\n      <AppFormSubmit></AppFormSubmit>\r\n      <FormCaption linkCaption=\" \" link=\"/login\">\r\n         ?\r\n      </FormCaption>\r\n    </AppForm>\r\n  );\r\n};\r\n\r\nexport default ResetPswPage;\r\n\r\n//TODO\r\n\r\n// ,         /reset-password.\r\n// ,    /reset-password  ,\r\n//      /forgot-password        .\r\n\r\n/*\r\n  TODO:\r\n         /reset-password.\r\n          .            .\r\n       ,      forgot-password  ,    reset-password\r\n*/\r\n","import React, { useCallback } from \"react\";\r\nimport styles from \"./profileNav.module.css\";\r\nimport Api from \"../../utils/api\";\r\n\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\nimport { useAppDispatch } from \"../../services/hooks/hooks\";\r\nimport { deleteCookie, getCookie } from \"../../utils/cookies\";\r\n\r\nimport { LOGOUT_USER_REQUEST } from \"../../services/actions/userActions\";\r\n\r\nconst ProfileNav = () => {\r\n  const dispatch = useAppDispatch();\r\n  const history = useHistory();\r\n\r\n  const handleLogoutClick = useCallback(\r\n    (evt: React.SyntheticEvent) => {\r\n      evt.preventDefault();\r\n      const refreshToken = getCookie(\"refreshToken\");\r\n      refreshToken && Api.signOutUserRequest(refreshToken);\r\n      deleteCookie(\"refreshToken\");\r\n      deleteCookie(\"accessToken\");\r\n      dispatch({ type: LOGOUT_USER_REQUEST });\r\n      history.push(\"/login\");\r\n    },\r\n    [dispatch, history]\r\n  );\r\n\r\n  return (\r\n    <aside className={styles.navwrapper}>\r\n      <ul className={styles.list}>\r\n        <li>\r\n          <NavLink\r\n            className={`text text_type_main-medium pt-4 pb-5 ${styles.listelement}`}\r\n            activeClassName={styles.listelement_active}\r\n            to=\"/profile\"\r\n          >\r\n            \r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink\r\n            className={`text text_type_main-medium pt-4 pb-5 ${styles.listelement}`}\r\n            activeClassName={styles.listelement_active}\r\n            to=\"/profile/orders\"\r\n          >\r\n             \r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <button\r\n            className={`text text_type_main-medium text_color_inactive pt-4 pb-5 ${styles.button}`}\r\n            onClick={handleLogoutClick}\r\n          >\r\n            \r\n          </button>\r\n        </li>\r\n      </ul>\r\n      <div className={`mt-20`}>\r\n        <p\r\n          className={`text text_type_main-default text_color_inactive ${styles.info}`}\r\n        >\r\n              &nbsp;    \r\n        </p>\r\n      </div>\r\n    </aside>\r\n  );\r\n};\r\n\r\nexport default ProfileNav;\r\n","import dayjs from \"dayjs\";\r\n\r\nconst getDateFormat = (utc: string): string => {\r\n  const date = dayjs(utc);\r\n  const isDateToday = dayjs().startOf(\"day\").isSame(date, \"day\");\r\n  const isDateYesterday = dayjs().subtract(1, \"day\").isSame(date, \"day\");\r\n\r\n  if (isDateToday) return \", \" + date.format(\"hh:mm\");\r\n  if (isDateYesterday) return \", \" + date.format(\"hh:mm\");\r\n  return date.format(\"DD:MM, hh:mm\");\r\n};\r\n\r\nexport default getDateFormat;\r\n\r\n//TODO  \"....  \"\r\n","import styles from \"./ingredientIcon.module.css\";\r\n\r\nimport { FC } from \"react\";\r\nimport { IIngredientIcon } from \"../../utils/types\";\r\nimport { Counter } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\n\r\nconst IngredientIcon: FC<IIngredientIcon> = ({\r\n  img,\r\n  hiddenIconsCount,\r\n  counter,\r\n}) => {\r\n  return (\r\n    <div className={`${styles.ingerdientIcon__wrapper}`}>\r\n      <img\r\n        className={styles.ingredientIcon__image}\r\n        src={img}\r\n        alt=\" \"\r\n      />\r\n      {counter && !hiddenIconsCount && counter > 1 && (\r\n        <Counter count={counter} size=\"small\" />\r\n      )}\r\n\r\n      {hiddenIconsCount && (\r\n        <div\r\n          className={`text text_type_main-default ${styles.ingredientIcon__hidden}`}\r\n        >{`+${hiddenIconsCount}`}</div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default IngredientIcon;\r\n","import styles from \"./orderCard.module.css\";\r\n\r\nimport { FC } from \"react\";\r\nimport { useAppSelector } from \"../../../services/hooks/hooks\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport { ILocation, IOrderCard } from \"../../../utils/types\";\r\nimport getDateFormat from \"../../../utils/date\";\r\n\r\nimport IngredientIcon from \"../../ingredient-icon/ingredientIcon\";\r\nimport { getOrderIngredientsDataByIds } from \"../../../services/actions/ingredientsActions\";\r\n\r\nconst OrderCard: FC<IOrderCard> = ({ orderData, path, isOrderStatus }) => {\r\n  const location = useLocation<ILocation>();\r\n  const { ingredients, totalPrice } = useAppSelector(\r\n    getOrderIngredientsDataByIds(orderData.ingredients)\r\n  );\r\n\r\n  let status = \"\";\r\n  switch (orderData.status) {\r\n    case \"created\":\r\n      status = \"\";\r\n      break;\r\n    case \"pending\":\r\n      status = \"\";\r\n      break;\r\n    case \"done\":\r\n      status = \"\";\r\n      break;\r\n  }\r\n\r\n  return (\r\n    <li className={styles.orderCard__item}>\r\n      <Link\r\n        to={{\r\n          pathname: `${path}${orderData.number}`,\r\n          state: { background: location },\r\n        }}\r\n        className={styles.orderCard__link}\r\n      >\r\n        <p\r\n          className={`text text_type_digits-default ${styles.orderCard__header}`}\r\n        >\r\n          #{orderData.number}{\" \"}\r\n          <time className={`text text_type_main-default text_color_inactive`}>\r\n            {getDateFormat(orderData.createdAt)} i-GMT+3\r\n          </time>\r\n        </p>\r\n        <h2 className={`text text_type_main-medium ${styles.orderCard__title}`}>\r\n          {orderData.name}\r\n        </h2>\r\n        {isOrderStatus && (\r\n          <p\r\n            className={`text text_type_main-default mt-2 ${\r\n              orderData.status === \"done\" && styles.orderCard__subTitle\r\n            }`}\r\n          >\r\n            {status}\r\n          </p>\r\n        )}\r\n\r\n        <div className={styles.orderCard__ingredientsList_wrapper}>\r\n          <ul className={styles.orderCard__ingredientsList}>\r\n            {ingredients.length > 5 && (\r\n              <IngredientIcon\r\n                img={ingredients[ingredients.length - 6]?.image_mobile}\r\n                hiddenIconsCount={ingredients.length - 5}\r\n              />\r\n            )}\r\n            {ingredients.slice(-5).map((ingredient, i) => {\r\n              return (\r\n                <IngredientIcon\r\n                  img={ingredient?.image_mobile}\r\n                  key={i}\r\n                  counter={ingredient?.quantity}\r\n                />\r\n              );\r\n            })}\r\n          </ul>\r\n          <p className={styles.orderCard__priceWrapper}>\r\n            <span\r\n              className={`text text_type_digits-default ${styles.orderCard__price}`}\r\n            >\r\n              {totalPrice}\r\n            </span>\r\n            <CurrencyIcon type=\"primary\" />\r\n          </p>\r\n        </div>\r\n      </Link>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default OrderCard;\r\n","import styles from \"./ordersLists.module.css\";\r\n\r\nimport { FC } from \"react\";\r\n\r\nimport { IOrdersList } from \"../../utils/types\";\r\nimport OrderCard from \"./components/order-card\";\r\n\r\nconst OrdersLists: FC<IOrdersList> = ({ ordersData, path, isOrderStatus }) => {\r\n  //console.log(\"ordersData in OrderList\", ordersData);\r\n  return (\r\n    <ul className={styles.ordersList__list}>\r\n      {ordersData?.map((order) => {\r\n        //console.log(\"order in MAP\", order);\r\n        return (\r\n          <OrderCard\r\n            path={path}\r\n            orderData={order}\r\n            isOrderStatus={isOrderStatus}\r\n            key={order._id}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default OrdersLists;\r\n","import React, { FC, useCallback, useEffect, useMemo, useState } from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport { useAppDispatch, useAppSelector } from \"../../services/hooks/hooks\";\r\n\r\nimport { patchUser } from \"../../services/actions/userActions\";\r\n\r\nimport styles from \"./profile.module.css\";\r\n\r\nimport FormInputWrapper from \"../../components/form-input-wrapper/formInputWrapper\";\r\nimport {\r\n  Button,\r\n  Input,\r\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport ProfileNav from \"../../components/profile-nav/pforile-nav\";\r\n\r\nimport {\r\n  WS_AUTH_CONNECTION_START,\r\n  WS_CONNECTION_CLOSED,\r\n} from \"../../services/actions/feedActions\";\r\nimport Loader from \"../../components/loader/loader\";\r\nimport OrdersLists from \"../../components/orders-lists/orders-lists\";\r\nimport ErrorMessage from \"../../components/error-message/error-message\";\r\n\r\nconst ProfilePage: FC = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { userName, userEmail, userPassword } = useAppSelector(\r\n    (store) => store.user\r\n  );\r\n  const { ordersData, wsConnected, wsError, wsRequest } = useAppSelector(\r\n    (store) => store.feed\r\n  );\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (userName) {\r\n      setName(userName);\r\n      setEmail(userEmail);\r\n    }\r\n  }, [userName, userEmail]);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: WS_AUTH_CONNECTION_START });\r\n    return () => {\r\n      dispatch({ type: WS_CONNECTION_CLOSED });\r\n    };\r\n  }, [dispatch]);\r\n\r\n  const isInfoChanged = useMemo(\r\n    () => name !== userName || email !== userEmail || password !== userPassword,\r\n    [userName, userEmail, userPassword, name, email, password]\r\n  );\r\n  //console.log(\"isInfo\", isInfoChanged);\r\n\r\n  const handleResetChanges = useCallback(\r\n    (evt: React.SyntheticEvent) => {\r\n      evt.preventDefault();\r\n      setName(userName);\r\n      setEmail(userEmail);\r\n      setPassword(\"\");\r\n    },\r\n    [userName, userEmail]\r\n  );\r\n\r\n  const handleSaveChanges = useCallback(\r\n    (evt: React.SyntheticEvent) => {\r\n      evt.preventDefault();\r\n      dispatch(patchUser(name, email, password));\r\n    },\r\n    [dispatch, name, email, password]\r\n  );\r\n\r\n  //console.log(\"wsRequest\", wsRequest);\r\n\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <ProfileNav />\r\n      <Route path=\"/profile\" exact>\r\n        <form className={styles.form}>\r\n          <FormInputWrapper>\r\n            <Input\r\n              name=\"name\"\r\n              type=\"text\"\r\n              value={name}\r\n              onChange={(evt) => setName(evt.target.value)}\r\n              icon=\"EditIcon\"\r\n              placeholder=\"\"\r\n            />\r\n          </FormInputWrapper>\r\n          <FormInputWrapper>\r\n            <Input\r\n              name=\"login\"\r\n              type=\"text\"\r\n              value={email}\r\n              onChange={(evt) => setEmail(evt.target.value)}\r\n              icon=\"EditIcon\"\r\n              placeholder=\"\"\r\n            />\r\n          </FormInputWrapper>\r\n          <FormInputWrapper>\r\n            <Input\r\n              name=\"password\"\r\n              type=\"password\"\r\n              value={password}\r\n              onChange={(evt) => setPassword(evt.target.value)}\r\n              icon=\"EditIcon\"\r\n              placeholder=\"\"\r\n            />\r\n          </FormInputWrapper>\r\n          {isInfoChanged && (\r\n            <div className={styles.form__buttons}>\r\n              <Button\r\n                type=\"secondary\"\r\n                size=\"medium\"\r\n                onClick={handleResetChanges}\r\n              >\r\n                \r\n              </Button>\r\n              <Button type=\"primary\" size=\"medium\" onClick={handleSaveChanges}>\r\n                \r\n              </Button>\r\n            </div>\r\n          )}\r\n        </form>\r\n      </Route>\r\n      <Route path=\"/profile/orders\">\r\n        {wsRequest && <Loader />}\r\n        {!wsError && wsConnected && ordersData ? (\r\n          <section className={styles.orderHistoryPage__content}>\r\n            <OrdersLists\r\n              ordersData={ordersData.orders && [...ordersData.orders].reverse()}\r\n              path=\"/profile/orders/\"\r\n              isOrderStatus\r\n            />\r\n          </section>\r\n        ) : (\r\n          <ErrorMessage>\r\n              . ,   \r\n          </ErrorMessage>\r\n        )}\r\n      </Route>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfilePage;\r\n\r\n//     \r\n\r\n/*\r\n        {!wsError && wsConnected && ordersData ? (\r\n          <section className={styles.orderHistoryPage__content}>\r\n            <OrdersLists\r\n              ordersData={ordersData.orders && [...ordersData.orders].reverse()}\r\n              path=\"/profile/orders/\"\r\n              isOrderStatus\r\n            />\r\n          </section>\r\n        ) : (\r\n          <Loader />\r\n        )}\r\n\r\n*/\r\n","import { FC } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport styles from \"./not-found-404.module.css\";\r\n\r\nconst NotFound404Page: FC = () => {\r\n  return (\r\n    <main className={styles.notFound404__container}>\r\n      <div className={styles.notFound404__wrapper}>\r\n        <h1 className={`text text_type_digits-large`}>404</h1>\r\n        <p className={`text text_type_main-medium`}>  </p>\r\n        <NavLink\r\n          to=\"/\"\r\n          className={`text text_type_main-medium ${styles.notFound404__link}`}\r\n        >\r\n           \r\n        </NavLink>\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default NotFound404Page;\r\n","import styles from \"./statisticTotal.module.css\";\r\nimport { FC } from \"react\";\r\n\r\nconst StatisticTotal: FC<{ title: string; children: number | string }> = ({\r\n  title,\r\n  children,\r\n}) => {\r\n  return (\r\n    <div className={styles.statisticTotal__wrapper}>\r\n      <p className={`text text_type_main-medium`}>{title}</p>\r\n      <span\r\n        className={`text text_type_digits-large ${styles.statisticTotlal__content}`}\r\n      >\r\n        {!children ? \"-\" : children}\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatisticTotal;\r\n","import styles from \"./statisticLife.module.css\";\r\n\r\nimport { FC } from \"react\";\r\nimport { IStatisticStatusList } from \"../../../utils/types\";\r\nimport Loader from \"../../loader/loader\";\r\n\r\nconst LifeStatistic: FC<IStatisticStatusList> = ({\r\n  title,\r\n  hightlightSelection,\r\n  orders,\r\n}) => {\r\n  const style = hightlightSelection ? { color: \"#00cccc\" } : {};\r\n  return !orders ? (\r\n    <Loader />\r\n  ) : (\r\n    <div className={styles.lifeStatistic__wrapper}>\r\n      <h2\r\n        className={`text text_type_main-medium ${styles.lifeStatistic__title}`}\r\n      >\r\n        {title}\r\n      </h2>\r\n      <ul className={`${styles.lifeStatistic__list}`}>\r\n        {orders?.slice(0, 10).map((order) => {\r\n          return (\r\n            <li\r\n              className={\"text text_type_digits-default\"}\r\n              style={style}\r\n              key={order}\r\n            >\r\n              {order}\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LifeStatistic;\r\n","import styles from \"./feedStatistic.module.css\";\r\nimport { FC } from \"react\";\r\nimport StatisticTotal from \"./statistic-total/statistic-total\";\r\nimport LifeStatistic from \"./statistic-life/statistic-life\";\r\nimport { IFeedStatistic } from \"../../utils/types\";\r\nimport Loader from \"../loader/loader\";\r\n\r\nconst FeedStatistic: FC<IFeedStatistic> = ({\r\n  total,\r\n  totalToday,\r\n  doneOrders,\r\n  pendingOrders,\r\n}) => {\r\n  return !doneOrders && !pendingOrders ? (\r\n    <Loader />\r\n  ) : (\r\n    <section className={styles.feedStatistic}>\r\n      <div className={styles.feedStatsistic__listWrapper}>\r\n        <LifeStatistic\r\n          title=\":\"\r\n          orders={doneOrders}\r\n          hightlightSelection\r\n        />\r\n        <LifeStatistic title=\" :\" orders={pendingOrders} />\r\n      </div>\r\n      <StatisticTotal title=\"   :\">{total}</StatisticTotal>\r\n      <StatisticTotal title=\"  :\">\r\n        {totalToday}\r\n      </StatisticTotal>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default FeedStatistic;\r\n","import { FC, useEffect } from \"react\";\r\nimport ErrorMessage from \"../../components/error-message/error-message\";\r\nimport FeedStatistic from \"../../components/feed-statistic/feed-statistic\";\r\nimport Loader from \"../../components/loader/loader\";\r\nimport OrdersLists from \"../../components/orders-lists/orders-lists\";\r\nimport {\r\n  WS_CONNECTION_CLOSED,\r\n  WS_CONNECTION_START,\r\n} from \"../../services/actions/feedActions\";\r\nimport { useAppDispatch, useAppSelector } from \"../../services/hooks/hooks\";\r\nimport styles from \"./feedStyles.module.css\";\r\n\r\nconst FeedPage: FC = () => {\r\n  const dispatch = useAppDispatch();\r\n\r\n  const { ordersData, wsConnected, wsError, wsRequest } = useAppSelector(\r\n    (store) => store.feed\r\n  );\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: WS_CONNECTION_START });\r\n    return () => {\r\n      dispatch({ type: WS_CONNECTION_CLOSED });\r\n    };\r\n  }, [dispatch]);\r\n\r\n  //  \r\n  const doneOrders =\r\n    ordersData &&\r\n    ordersData.orders\r\n      .filter((order) => order.status === \"done\")\r\n      .map((order) => order.number);\r\n\r\n  //   \r\n  const pendingOrders =\r\n    ordersData &&\r\n    ordersData.orders\r\n      .filter((order) => order.status === \"pending\")\r\n      .map((order) => order.number);\r\n\r\n  return wsRequest ? (\r\n    <Loader />\r\n  ) : (\r\n    <>\r\n      {!wsError && wsConnected && ordersData && doneOrders && pendingOrders ? (\r\n        <main className={styles.feed}>\r\n          <h1 className={`text text_type_main-large ${styles.feed__title}`}>\r\n             \r\n          </h1>\r\n          {ordersData.orders.length === 50 ? (\r\n            <section className={styles.feed__orderSection}>\r\n              <OrdersLists path=\"/feed/\" ordersData={ordersData.orders} />\r\n            </section>\r\n          ) : (\r\n            <Loader />\r\n          )}\r\n          <section className={styles.feed__statisticSection}>\r\n            <FeedStatistic\r\n              total={ordersData.total}\r\n              totalToday={ordersData.totalToday}\r\n              doneOrders={doneOrders}\r\n              pendingOrders={pendingOrders}\r\n            />\r\n          </section>\r\n        </main>\r\n      ) : (\r\n        <ErrorMessage>\r\n            . ,   \r\n        </ErrorMessage>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FeedPage;\r\n","import { FC } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport styles from \"./ingredientDetails.module.css\";\r\n\r\nimport { useAppSelector } from \"../../../../services/hooks/hooks\";\r\nimport Loader from \"../../../loader/loader\";\r\nimport { findIngredientById } from \"../../../../services/actions/ingredientsActions\";\r\n\r\nconst IngredientDetails: FC = () => {\r\n  const params = useParams<{ id: string }>();\r\n\r\n  const { ingredientsApiRequest } = useAppSelector(\r\n    (store) => store.ingredients\r\n  );\r\n\r\n  const ingredient = useAppSelector(findIngredientById(params.id));\r\n\r\n  return (\r\n    <main>\r\n      {ingredientsApiRequest && !ingredient ? (\r\n        <Loader />\r\n      ) : (\r\n        <div className={`${styles.container} p-10`}>\r\n          <p className={`${styles.header} text text_type_main-large`}>\r\n             \r\n          </p>\r\n          <img\r\n            className={`${styles.icon}`}\r\n            alt=\" \"\r\n            src={ingredient?.image}\r\n          />\r\n          <p className=\"text text_type_main-medium\">{ingredient?.name}</p>\r\n          <div\r\n            className={`${styles.captioncontainer} mt-8 text_color_inactive`}\r\n          >\r\n            <div className={`${styles.element} mr-5`}>\r\n              <p className=\"text text_type_main-default\">,</p>\r\n              <p className=\"text text_type_digits-default\">\r\n                {ingredient?.calories}\r\n              </p>\r\n            </div>\r\n            <div className={`${styles.element} mr-5`}>\r\n              <p className=\"text text_type_main-default\">, </p>\r\n              <p className=\"text text_type_digits-default\">\r\n                {ingredient?.proteins}\r\n              </p>\r\n            </div>\r\n            <div className={`${styles.element} mr-5`}>\r\n              <p className=\"text text_type_main-default\">, </p>\r\n              <p className=\"text text_type_digits-default\">{ingredient?.fat}</p>\r\n            </div>\r\n            <div className={`${styles.element} mr-5`}>\r\n              <p className=\"text text_type_main-default\">, </p>\r\n              <p className=\"text text_type_digits-default\">\r\n                {ingredient?.carbohydrates}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default IngredientDetails;\r\n","import { CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport { FC } from \"react\";\r\nimport { TOrdersIngredient } from \"../../../utils/types\";\r\nimport IngredientIcon from \"../../ingredient-icon/ingredientIcon\";\r\nimport Loader from \"../../loader/loader\";\r\nimport styles from \"./ingredientInfo.module.css\";\r\n\r\nconst IngredientInfo: FC<{ ingredient: TOrdersIngredient }> = ({\r\n  ingredient,\r\n}) => {\r\n  return !ingredient ? (\r\n    <Loader />\r\n  ) : (\r\n    <li className={styles.ingredientInfo__wrapper}>\r\n      <IngredientIcon img={ingredient.image_mobile} />\r\n      <p\r\n        className={`text text_type_main-default ml-4 mr-4 ${styles.ingredientInfo__title}`}\r\n      >\r\n        {ingredient.name}\r\n      </p>\r\n      <p className={styles.ingredientInfo__price}>\r\n        <span className=\"text text_type_digits-default mr-2\">\r\n          {ingredient.quantity} x {ingredient.price}\r\n        </span>{\" \"}\r\n        <CurrencyIcon type=\"primary\" />\r\n      </p>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default IngredientInfo;\r\n","import React, { useEffect } from \"react\";\r\nimport { FC } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport styles from \"./orderInfo.module.css\";\r\nimport { CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport Loader from \"../loader/loader\";\r\nimport IngredientInfo from \"./components/ingredient-info\";\r\n\r\nimport getDateFormat from \"../../utils/date\";\r\n\r\nimport { useAppDispatch, useAppSelector } from \"../../services/hooks/hooks\";\r\nimport { findExactOrderByNumber } from \"../../services/actions/orderActions\";\r\nimport { getOrderByNumber } from \"../../services/actions/feedActions\";\r\nimport { getOrderIngredientsDataByIds } from \"../../services/actions/ingredientsActions\";\r\n\r\n//TODO   \r\n\r\nconst OrderInfo: FC = () => {\r\n  const dispatch = useAppDispatch();\r\n\r\n  const params = useParams<{ number: string }>();\r\n\r\n  const { ordersData } = useAppSelector((store) => store.feed);\r\n\r\n  const exactOrder = useAppSelector(findExactOrderByNumber(+params.number)); //      Number\r\n\r\n  //   orderData     (..     soket ),        \r\n  useEffect(() => {\r\n    if (exactOrder && !exactOrder.number) {\r\n      dispatch(getOrderByNumber(+params.number));\r\n    }\r\n  }, [dispatch, exactOrder, params.number]);\r\n\r\n  const { ingredients, totalPrice } = useAppSelector(\r\n    getOrderIngredientsDataByIds(exactOrder.ingredients)\r\n  );\r\n\r\n  let status = \"\";\r\n  switch (exactOrder.status) {\r\n    case \"created\":\r\n      status = \"\";\r\n      break;\r\n    case \"pending\":\r\n      status = \"\";\r\n      break;\r\n    case \"done\":\r\n      status = \"\";\r\n      break;\r\n  }\r\n\r\n  return !ordersData && !exactOrder.number ? (\r\n    <Loader />\r\n  ) : (\r\n    <div className={styles.orderInfo__wrapper}>\r\n      <p className={`text text_type_digits-default`}>#{exactOrder.number} </p>\r\n      <h2 className={`text text_type_main-medium ${styles.orderInfo__title}`}>\r\n        {exactOrder.name}\r\n      </h2>\r\n      <p className={`text text_type_main-default ${styles.orderInfo__status}`}>\r\n        {status}\r\n      </p>\r\n      <p className={`text text_type_main-medium ${styles.orderInfo__consist}`}>\r\n        :\r\n      </p>\r\n      <ul className={`mt-6 ${styles.orderInfo__list}`}>\r\n        {ingredients.map((item: any, index: number) => {\r\n          return <IngredientInfo ingredient={item} key={index} />;\r\n        })}\r\n      </ul>\r\n      <div className={styles.orderInfo__footer}>\r\n        <time className=\"text text_type_main-default text_color_inactive\">\r\n          {getDateFormat(exactOrder?.createdAt)} i-GMT+3\r\n        </time>\r\n        <div className={styles.orderInfo__price}>\r\n          <span className=\"text text_type_digits-default\">{totalPrice}</span>\r\n          <CurrencyIcon type=\"primary\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(OrderInfo);\r\n","import { FC, useCallback, useEffect } from \"react\";\r\nimport { Switch, Route, useLocation, useHistory } from \"react-router-dom\";\r\n\r\nimport { ILocation } from \"../../utils/types\";\r\nimport { useAppDispatch } from \"../../services/hooks/hooks\";\r\n\r\n// \r\nimport AppHeader from \"../app-header/appHeader\";\r\nimport ProtectedRoute from \"../protected-route/protected-route\";\r\n// \r\nimport HomePage from \"../../pages/home/home\";\r\nimport LoginPage from \"../../pages/login/login\";\r\nimport RegisterPage from \"../../pages/register/register\";\r\nimport ForgotPswPage from \"../../pages/fogot-password/forgot-password\";\r\nimport ResetPswPage from \"../../pages/reset-password/reset-password\";\r\nimport ProfilePage from \"../../pages/profile/profile\";\r\nimport NotFound404Page from \"../../pages/not-found-404/not-found-404\";\r\nimport FeedPage from \"../../pages/feed/feed\";\r\nimport Modal from \"../modal/modal\";\r\nimport IngredientDetails from \"../burger-ingredients/components/ingredient-detail/ingredientDetails\";\r\nimport { getIngredientsRequestApi } from \"../../services/actions/ingredientsActions\";\r\nimport { checkUserAuth } from \"../../services/actions/userActions\";\r\nimport OrderInfo from \"../order-info/order-info\";\r\n\r\nconst App: FC = () => {\r\n  const location = useLocation<ILocation>();\r\n  const history = useHistory();\r\n  const dispatch = useAppDispatch();\r\n  const background =\r\n    history.action === \"PUSH\" && location.state && location.state.background;\r\n\r\n  useEffect(() => {\r\n    dispatch(getIngredientsRequestApi());\r\n    dispatch(checkUserAuth());\r\n  }, [dispatch]);\r\n\r\n  const closeModal = useCallback(\r\n    (href: string) => {\r\n      history.push(href);\r\n    },\r\n    [history]\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <AppHeader />\r\n      <Switch location={background || location}>\r\n        <Route path=\"/\" exact={true}>\r\n          <HomePage />\r\n        </Route>\r\n        <Route path=\"/login\">\r\n          <LoginPage />\r\n        </Route>\r\n        <Route path=\"/register\">\r\n          <RegisterPage />\r\n        </Route>\r\n        <Route path=\"/forgot-password\">\r\n          <ForgotPswPage />\r\n        </Route>\r\n        <Route path=\"/reset-password\">\r\n          <ResetPswPage />s\r\n        </Route>\r\n        <Route path=\"/ingredients/:id\" exact>\r\n          <IngredientDetails />\r\n        </Route>\r\n        <Route path=\"/feed\" exact>\r\n          <FeedPage />\r\n        </Route>\r\n        <Route path=\"/feed/:number\" exact>\r\n          <OrderInfo />\r\n        </Route>\r\n\r\n        <ProtectedRoute path=\"/profile/orders/:number\" exact>\r\n          <OrderInfo />\r\n        </ProtectedRoute>\r\n        <ProtectedRoute path=\"/profile\">\r\n          <ProfilePage />\r\n        </ProtectedRoute>\r\n\r\n        <Route>\r\n          <NotFound404Page />\r\n        </Route>\r\n      </Switch>\r\n\r\n      {background && (\r\n        <Route path=\"/ingredients/:id\">\r\n          <Modal closeModal={() => closeModal(\"/\")}>\r\n            <IngredientDetails />\r\n          </Modal>\r\n        </Route>\r\n      )}\r\n      {background && (\r\n        <Route path=\"/feed/:number\">\r\n          <Modal closeModal={() => closeModal(\"/feed\")}>\r\n            <OrderInfo />\r\n          </Modal>\r\n        </Route>\r\n      )}\r\n      {background && (\r\n        <Route path=\"/profile/orders/:number\">\r\n          <Modal closeModal={() => closeModal(\"/profile/orders\")}>\r\n            <OrderInfo />\r\n          </Modal>\r\n        </Route>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\n\r\nimport storeState from \"./services/store\";\r\nimport { Provider } from \"react-redux\";\r\n\r\nimport { Action, ActionCreator } from \"redux\";\r\nimport { ThunkAction } from \"redux-thunk\";\r\nimport { TOrderActions } from \"./services/actions/orderActions\";\r\nimport { TIngredientsActions } from \"./services/actions/ingredientsActions\";\r\nimport { TConstructorActions } from \"./services/actions/constructorActions\";\r\nimport { TModalActions } from \"./services/actions/modalActions\";\r\nimport { TUserRequestActions } from \"./services/actions/userActions\";\r\n\r\nimport \"./index.css\";\r\nimport App from \"./components/app/app\";\r\nimport { TWsActions } from \"./services/actions/feedActions\";\r\n\r\ntype TApplicationActions =\r\n  | TOrderActions\r\n  | TConstructorActions\r\n  | TIngredientsActions\r\n  | TModalActions\r\n  | TUserRequestActions\r\n  | TWsActions;\r\n\r\nexport type RootState = ReturnType<typeof storeState.getState>;\r\nexport type AppThunk<TReturn = void> = ActionCreator<\r\n  ThunkAction<TReturn, Action, RootState, TApplicationActions>\r\n>;\r\nexport type AppDispatch = typeof storeState.dispatch;\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={storeState}>\r\n      <Router>\r\n        <App />\r\n      </Router>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navwrapper\":\"profileNav_navwrapper__1U77p\",\"list\":\"profileNav_list__7F90V\",\"listelement\":\"profileNav_listelement__1EgVr\",\"listelement_active\":\"profileNav_listelement_active__ZDZH8\",\"info\":\"profileNav_info__2F1sD\",\"button\":\"profileNav_button__MmrcT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ingredientDetails_container__b3_sb\",\"captioncontainer\":\"ingredientDetails_captioncontainer__2MLs7\",\"element\":\"ingredientDetails_element__2AnYG\",\"header\":\"ingredientDetails_header__25uS0\",\"icon\":\"ingredientDetails_icon__m9Ftk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"orderInfo__wrapper\":\"orderInfo_orderInfo__wrapper__2zZmk\",\"orderInfo__title\":\"orderInfo_orderInfo__title__1JNP5\",\"orderInfo__status\":\"orderInfo_orderInfo__status__19L2N\",\"orderInfo__consist\":\"orderInfo_orderInfo__consist__3Ugb2\",\"orderInfo__list\":\"orderInfo_orderInfo__list__12eTx\",\"orderInfo__footer\":\"orderInfo_orderInfo__footer__2Y5VL\",\"orderInfo__price\":\"orderInfo_orderInfo__price__28qWn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredient\":\"ingredientElementStyles_ingredient__aUyDv\",\"element_img\":\"ingredientElementStyles_element_img__38GqQ\",\"counter\":\"ingredientElementStyles_counter__3cDdz\",\"price\":\"ingredientElementStyles_price__1KM6N\",\"ingredient_dragging\":\"ingredientElementStyles_ingredient_dragging__1BxET\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mold\":\"bunMoldStyles_mold__1V9Y-\",\"mold_position_top\":\"bunMoldStyles_mold_position_top__1i1ry\",\"mold_position_bottom\":\"bunMoldStyles_mold_position_bottom__1Kim8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"profile_wrapper__2geDx\",\"form\":\"profile_form__tx5JX\",\"form__buttons\":\"profile_form__buttons__3WshF\",\"orderHistoryPage__content\":\"profile_orderHistoryPage__content__wyg-B\",\"profile__loaderWrapper\":\"profile_profile__loaderWrapper__2trk3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"feed\":\"feedStyles_feed__2DttN\",\"feed__title\":\"feedStyles_feed__title__2QpxQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burger_ingredients\":\"burgerIngredientsStyles_burger_ingredients__sVE_0\",\"burger_menu_tab\":\"burgerIngredientsStyles_burger_menu_tab__58iED\",\"burger_list_container\":\"burgerIngredientsStyles_burger_list_container__3lOlU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"orderDetails_container__1TOra\",\"icon\":\"orderDetails_icon__HKjCl\",\"glow\":\"orderDetails_glow__JcBYS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader__container\":\"loader_loader__container__2brxw\",\"loader\":\"loader_loader__HsY4L\",\"loader__span\":\"loader_loader__span__1jptg\",\"text\":\"loader_text__2qvjc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorMessage__container\":\"errorMessage_errorMessage__container__2oick\",\"errorMessage__title\":\"errorMessage_errorMessage__title__1AbJ5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingerdientIcon__wrapper\":\"ingredientIcon_ingerdientIcon__wrapper__3uaRI\",\"ingredientIcon__image\":\"ingredientIcon_ingredientIcon__image__2DbdF\",\"ingredientIcon__hidden\":\"ingredientIcon_ingredientIcon__hidden__1fBab\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notFound404__container\":\"not-found-404_notFound404__container__160Np\",\"notFound404__wrapper\":\"not-found-404_notFound404__wrapper__8YtR6\",\"notFound404__link\":\"not-found-404_notFound404__link__2LHtq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lifeStatistic__wrapper\":\"statisticLife_lifeStatistic__wrapper__1JQt4\",\"lifeStatistic__title\":\"statisticLife_lifeStatistic__title__1s49S\",\"lifeStatistic__list\":\"statisticLife_lifeStatistic__list__Y6mwj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredientInfo__wrapper\":\"ingredientInfo_ingredientInfo__wrapper__1nGDI\",\"ingredientInfo__title\":\"ingredientInfo_ingredientInfo__title__2npZs\",\"ingredientInfo__price\":\"ingredientInfo_ingredientInfo__price__1FVCk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"homeStyle_app__3T0Nu\",\"content\":\"homeStyle_content__2_BPA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container_wrapper\":\"burgerConstructorElementStyles_container_wrapper__992uL\",\"container__dragIcon\":\"burgerConstructorElementStyles_container__dragIcon__8kn2M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal_modal__1XpcX\",\"modal_closebtn\":\"modal_modal_closebtn__3tZAr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"appFormStyles_form__3fxrK\",\"title\":\"appFormStyles_title__PVDPx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"caption\":\"formCaptionStyles_caption__2EkVS\",\"link\":\"formCaptionStyles_link__3tdcN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"feedStatistic\":\"feedStatistic_feedStatistic__1lflM\",\"feedStatsistic__listWrapper\":\"feedStatistic_feedStatsistic__listWrapper__34s23\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"statisticTotal__wrapper\":\"statisticTotal_statisticTotal__wrapper__kqFbN\",\"statisticTotlal__content\":\"statisticTotal_statisticTotlal__content__2lXU2\"};"],"sourceRoot":""}