(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{10:function(e,t,n){e.exports={header:"appHeaderStyles_header__1uX7e",container:"appHeaderStyles_container__2DiZC",logo:"appHeaderStyles_logo__2J53j",menu_btn:"appHeaderStyles_menu_btn__3KE6s",nav__menu_left:"appHeaderStyles_nav__menu_left__2Yvor",nav__menu_right:"appHeaderStyles_nav__menu_right__3ngqo"}},11:function(e,t,n){e.exports={container:"ingredientDetails_container__KpR85",captioncontainer:"ingredientDetails_captioncontainer__3pHY6",element:"ingredientDetails_element__2UcXl",header:"ingredientDetails_header__17hmJ",icon:"ingredientDetails_icon__19E5z"}},12:function(e,t,n){e.exports={main_container:"burgerConstructorStyles_main_container__DHTqR",top_container:"burgerConstructorStyles_top_container__Wu0Yf",bottom_container:"burgerConstructorStyles_bottom_container__3lhyr",constructor_container:"burgerConstructorStyles_constructor_container__1K4UT",container_wrapper:"burgerConstructorStyles_container_wrapper__3FMDq",outcome:"burgerConstructorStyles_outcome__1YDGP",price:"burgerConstructorStyles_price__Edu5Z"}},157:function(e,t){},158:function(e,t){},159:function(e,t){},160:function(e,t){},161:function(e,t){},162:function(e,t){},163:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(18),i=n.n(c),s=(n(78),n(20)),o=n(15),l=n(47),u=n.n(l),d=n(10),m=n.n(d),_=(n(27),n(5)),p=n(0);var j=function(){return Object(p.jsx)("header",{className:m.a.header,children:Object(p.jsxs)("div",{className:m.a.container,children:[Object(p.jsxs)("nav",{className:m.a.nav__menu_left,children:[Object(p.jsxs)("a",{href:"#",className:"".concat(m.a.menu_btn," pt-4 pb-4 pl-5 pr-5"),children:[Object(p.jsx)(_.BurgerIcon,{type:"primary"}),Object(p.jsx)("p",{className:"text text_type_main-default pl-2",children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})]}),Object(p.jsxs)("a",{href:"#",className:"".concat(m.a.menu_btn," pt-4 pb-4 pl-5 pr-5"),children:[Object(p.jsx)(_.ListIcon,{type:"secondary"}),Object(p.jsx)("p",{className:"text text_type_main-default text_color_inactive pl-2",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]})]}),Object(p.jsx)("a",{href:"#",className:m.a.logo,children:Object(p.jsx)(_.Logo,{})}),Object(p.jsx)("nav",{className:m.a.nav__menu_right,children:Object(p.jsxs)("a",{href:"#",className:"".concat(m.a.menu_btn," pt-4 pb-4 pl-5 pr-5"),children:[Object(p.jsx)(_.ProfileIcon,{type:"secondary"}),Object(p.jsx)("p",{className:"text text_type_main-default text_color_inactive pl-2",children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})})]})})},b=n(2),x=n.n(b),g=x.a.shape({_id:x.a.string,name:x.a.string,type:x.a.string,proteins:x.a.number,fat:x.a.number,carbohydrates:x.a.number,calories:x.a.number,price:x.a.number,image:x.a.string,image_mobile:x.a.string,image_large:x.a.string}),f=n(72),h=n.n(f),O=n(19),y=n.n(O),v=n(46),N=n(45),S=function(e){var t=e.id,n=e.image,a=e.name,r=e.price,c=e.openModal;return Object(p.jsxs)("div",{className:y.a.ingredient_element,children:[Object(p.jsxs)("div",{className:y.a.ingredient_content,onClick:function(){c({modalType:"ingredientDetail",itemId:t})},children:[Object(p.jsx)("img",{alt:"\u0424\u043e\u0442\u043e \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430",src:n,className:y.a.element_img}),Object(p.jsxs)("p",{className:y.a.price,children:[r,Object(p.jsx)(N.CurrencyIcon,{type:"primary"})]}),Object(p.jsx)("p",{className:"text text_type_main-default",children:a})]}),Object(p.jsx)(v.Counter,{size:"default",count:1})]})},D=(x.a.shape({name:x.a.string.isRequired,price:x.a.number.isRequired,image:x.a.string.isRequired}),r.a.forwardRef((function(e,t){var n=e.groupName,a=e.groupElement,r=e.openModal;return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"mt-10 mb-6",children:Object(p.jsx)("p",{className:"text text_type_main-medium",ref:t,children:n})}),Object(p.jsx)("div",{className:"".concat(h.a.content),children:a.map((function(e){return Object(p.jsx)(S,{id:e._id,image:e.image,name:e.name,price:e.price,openModal:r},e._id)}))})]})}))),C=(x.a.shape({groupName:x.a.string.isRequired,groupElement:g,openModal:x.a.func.isRequired}),n(24)),E=n.n(C);var R=function(e){var t=e.openModal,n=e.burgerInputData,a=r.a.useRef(null),c=r.a.useRef(null),i=r.a.useRef(null),s=r.a.useState("buns"),l=Object(o.a)(s,2),u=l[0],d=l[1];function m(e){e&&e.scrollIntoView({behavior:"smooth"})}return Object(p.jsxs)("section",{className:"".concat(E.a.burger_ingredients," pt-10"),children:[Object(p.jsx)("h1",{className:"text text_type_main-large",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(p.jsxs)("div",{className:"".concat(E.a.burger_menu_tab," mt-5 mb-10"),children:[Object(p.jsx)(_.Tab,{value:"buns",active:"buns"===u,onClick:function(e){d(e),m(a.current)},children:"\u0411\u0443\u043b\u043a\u0438"}),Object(p.jsx)(_.Tab,{value:"sauses",active:"sauses"===u,onClick:function(e){d(e),m(c.current)},children:"\u0421\u043e\u0443\u0441\u044b"}),Object(p.jsx)(_.Tab,{value:"fillings",active:"fillings"===u,onClick:function(e){d(e),m(i.current)},children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"})]}),Object(p.jsxs)("ul",{className:"".concat(E.a.burger_list_container," pt-25"),children:[Object(p.jsx)("li",{children:Object(p.jsx)(D,{groupName:"\u0411\u0443\u043b\u043a\u0438",groupElement:n.filter((function(e){return"bun"===e.type})),ref:a,openModal:t})}),Object(p.jsx)("li",{children:Object(p.jsx)(D,{groupName:"\u0421\u043e\u0443\u0441\u044b",groupElement:n.filter((function(e){return"sauce"===e.type})),ref:c,openModal:t})}),Object(p.jsx)("li",{children:Object(p.jsx)(D,{groupName:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438",groupElement:n.filter((function(e){return"main"===e.type})),ref:i,openModal:t})})]})]})},I=(x.a.shape({openModal:x.a.func.isRequired,burgerInputData:x.a.arrayOf(g.isRequired).isRequired}),n(12)),q=n.n(I),k=function(e){var t=e.openModal,n=e.burgerInputData,a=n.find((function(e){return"bun"===e.type})),r=n.filter((function(e){return"bun"!==e.type})),c=(a?2*a.price:0)+(r?r.reduce((function(e,t){return e+t.price}),0):0);return Object(p.jsxs)("section",{className:"".concat(q.a.main_container," pt-25"),children:[a&&Object(p.jsx)("div",{className:q.a.top_container,children:Object(p.jsx)(_.ConstructorElement,{type:"top",isLocked:!0,text:"".concat(a.name," (\u0432\u0435\u0440\u0445)"),price:a.price,thumbnail:a.image})}),r&&Object(p.jsx)("div",{className:q.a.constructor_container,children:r.map((function(e){return Object(p.jsxs)("div",{className:q.a.container_wrapper,children:[Object(p.jsx)("div",{className:"mr-1",children:Object(p.jsx)(_.DragIcon,{type:"primary"})}),Object(p.jsx)(_.ConstructorElement,{text:e.name,price:e.price,thumbnail:e.image})]},e._id)}))}),a&&Object(p.jsx)("div",{className:q.a.bottom_container,children:Object(p.jsx)(_.ConstructorElement,{type:"bottom",isLocked:!0,text:"".concat(a.name," (\u0432\u0435\u0440\u0445)"),price:a.price,thumbnail:a.image})}),Object(p.jsxs)("div",{className:q.a.outcome,children:[Object(p.jsxs)("div",{className:q.a.price,children:[Object(p.jsx)("p",{className:"text text_type_digits-medium mr-2",children:c}),Object(p.jsx)(_.CurrencyIcon,{type:"primary"})]}),Object(p.jsx)(_.Button,{type:"primary",size:"large",onClick:function(){t({modalType:"orderDetail"})},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})]})},M=(x.a.shape({openModal:x.a.func.isRequired,burgerInputData:x.a.arrayOf(g.isRequired).isRequired}),n(48)),w=n.n(M),T=(n(69),n(73)),F=n.n(T),L=function(e){var t=e.children,n=e.onClick;return Object(p.jsx)("div",{className:F.a.overlay,onClick:n,children:t})},H=(x.a.shape({onClick:x.a.func.isRequired,children:x.a.element.isRequired}),document.getElementById("modal-root")),B=function(e){var t=e.closeModal,n=e.children;function a(e){"Escape"===e.key&&(e.preventDefault(),t())}return r.a.useEffect((function(){return document.addEventListener("keydown",a),function(){document.removeEventListener("keydown",a)}}),[]),Object(c.createPortal)(Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(L,{onClick:function(e){e.target===e.currentTarget&&t()},children:Object(p.jsxs)("div",{className:w.a.modal,children:[Object(p.jsx)("div",{className:w.a.modal_closebtn,children:Object(p.jsx)(_.CloseIcon,{type:"primary",onClick:t})}),n]})})}),H)},J=(x.a.shape({closeModal:x.a.func.isRequired,children:x.a.element.isRequired}),n.p+"static/media/doneImg.6d4020a5.svg"),U=n(25),P=n.n(U);var Y=function(){return Object(p.jsxs)("div",{className:"".concat(P.a.container," pt-30 pb-25"),children:[Object(p.jsx)("div",{className:"mb-8",children:Object(p.jsx)("p",{className:"".concat(P.a.glow," text text_type_digits-large"),children:"034536"})}),Object(p.jsx)("p",{className:"text text_type_main-medium",children:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(p.jsx)("img",{className:"".concat(P.a.icon," mb-15 mt-15"),alt:"\u0437\u0430\u043a\u0430\u0437 \u043f\u0440\u0438\u043d\u044f\u0442",src:J}),Object(p.jsx)("p",{className:"text text_type_main-default",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(p.jsx)("div",{className:"mt-2",children:Object(p.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})})]})},X=n(11),Z=n.n(X);var z=function(e){var t=e.image,n=e.name,a=e.calories,r=e.fat,c=e.proteins,i=e.carbohydrates;return Object(p.jsxs)("div",{className:"".concat(Z.a.container," p-10"),children:[Object(p.jsx)("p",{className:"".concat(Z.a.header," text text_type_main-large"),children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(p.jsx)("img",{className:"".concat(Z.a.icon),alt:"\u0437\u0430\u043a\u0430\u0437 \u043f\u0440\u0438\u043d\u044f\u0442",src:t}),Object(p.jsx)("p",{className:"text text_type_main-medium",children:n}),Object(p.jsxs)("div",{className:"".concat(Z.a.captioncontainer," mt-8 text_color_inactive"),children:[Object(p.jsxs)("div",{className:"".concat(Z.a.element," mr-5"),children:[Object(p.jsx)("p",{className:"text text_type_main-default",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object(p.jsx)("p",{className:"text text_type_digits-default",children:a})]}),Object(p.jsxs)("div",{className:"".concat(Z.a.element," mr-5"),children:[Object(p.jsx)("p",{className:"text text_type_main-default",children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(p.jsx)("p",{className:"text text_type_digits-default",children:c})]}),Object(p.jsxs)("div",{className:"".concat(Z.a.element," mr-5"),children:[Object(p.jsx)("p",{className:"text text_type_main-default",children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(p.jsx)("p",{className:"text text_type_digits-default",children:r})]}),Object(p.jsxs)("div",{className:"".concat(Z.a.element," mr-5"),children:[Object(p.jsx)("p",{className:"text text_type_main-default",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(p.jsx)("p",{className:"text text_type_digits-default",children:i})]})]})]})};x.a.shape({image:x.a.string.isRequired,name:x.a.string.isRequired,calories:x.a.number.isRequired,fat:x.a.number.isRequired,proteins:x.a.number.isRequired,carbohydrates:x.a.number.isRequired});var K=function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status," - ").concat(e.statusText))};var A=function(){var e=Object(a.useState)({isLoading:!0,hasError:!1,error:"",inputDataFromServer:[]}),t=Object(o.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){fetch("".concat("https://norma.nomoreparties.space/api/ingredients")).then((function(e){return K(e)})).then((function(e){r((function(t){return Object(s.a)(Object(s.a)({},t),{},{isLoading:!1,inputDataFromServer:e.data})}))})).catch((function(e){r((function(t){return Object(s.a)(Object(s.a)({},t),{},{isLoading:!1,hasError:!0,error:e})}))}))}),[]);var c=Object(a.useState)(!1),i=Object(o.a)(c,2),l=i[0],d=i[1],m=Object(a.useState)(!1),_=Object(o.a)(m,2),b=_[0],x=_[1],g=Object(a.useState)({data:null}),f=Object(o.a)(g,2),h=f[0],O=f[1];function y(e){var t=e.modalType,a=e.itemId,r=null;"ingredientDetail"===t?(x(!0),r=n.inputDataFromServer.find((function(e){return e._id===a})),console.log("modalIngredientData",r),console.log("modalIngredientDat image",r.image),O({data:r})):"orderDetail"===t&&d(!0)}function v(){d(!1),x(!1)}return Object(p.jsxs)("div",{className:u.a.app,children:[Object(p.jsx)(j,{}),Object(p.jsxs)("main",{className:u.a.content,children:[Object(p.jsx)(R,{openModal:y,burgerInputData:n.inputDataFromServer}),Object(p.jsx)(k,{openModal:y,burgerInputData:n.inputDataFromServer})]}),b&&Object(p.jsx)(B,{closeModal:v,children:Object(p.jsx)(z,{image:h.data.image,name:h.data.name,calories:h.data.calories,fat:h.data.fat,proteins:h.data.proteins,carbohydrates:h.data.carbohydrates})}),l&&Object(p.jsx)(B,{closeModal:v,children:Object(p.jsx)(Y,{})})]})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,164)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(p.jsx)(A,{}),document.getElementById("root")),G()},19:function(e,t,n){e.exports={ingredient_element:"ingredientElementStyles_ingredient_element__3JUYt",ingredient_content:"ingredientElementStyles_ingredient_content__3DxSS",element_img:"ingredientElementStyles_element_img__29zZx",counter:"ingredientElementStyles_counter__2xuGD",price:"ingredientElementStyles_price__1U1yw"}},24:function(e,t,n){e.exports={burger_ingredients:"burgerIngredientsStyles_burger_ingredients__sVE_0",burger_menu_tab:"burgerIngredientsStyles_burger_menu_tab__58iED",burger_list_container:"burgerIngredientsStyles_burger_list_container__3lOlU"}},25:function(e,t,n){e.exports={container:"orderDetails_container__1TOra",icon:"orderDetails_icon__HKjCl",glow:"orderDetails_glow__JcBYS"}},47:function(e,t,n){e.exports={app:"appStyles_app__BfjSk",content:"appStyles_content__1TAF7"}},48:function(e,t,n){e.exports={modal:"modal_modal__1XpcX",modal_closebtn:"modal_modal_closebtn__3tZAr"}},70:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=70},71:function(e,t){},72:function(e,t,n){e.exports={content:"ingredientGroupStyles_content__2lSXA"}},73:function(e,t,n){e.exports={overlay:"modalOverlay_overlay__35JZj"}},78:function(e,t,n){}},[[163,1,2]]]);
//# sourceMappingURL=main.c6c7a5a5.chunk.js.map